/* ==UserStyle==
@name           SpigotMC NewDark
@namespace      github.com/Janmm14/spigotmc-newdark
@version        1.6.5
@description    SpigotMC.org NewDark mode userstyle. https://userstyles.world/style/4051/spigotmc-newdark
@preprocessor   less
@author         Janmm14
@var range dim "Dim spigotmc orange" [1, 0.4, 1, 0.025]
@var checkbox black_header "Black header background" 1
@var checkbox oled "OLED / darkgray -> black background in many places" 1
@var checkbox olednostripe "if OLED, no list background stripes" 0
@var checkbox noorange "No orange background" 1
@var checkbox no_header "Remove the header" 1
@var checkbox nomargin "Less margin on spigotmc home news feed and wiki pages" 1
@var checkbox nobg "No border around home page articles (enable less margin)" 1
@var checkbox icode_dark "Should inline code [icode] have dark background" 1
@var number codeblockrightmargin "Right margin of code blocks (+1)" [141, 1, 1000, 1, 'px']
@var checkbox msg_signature "New post-meta (footer) design (buttons, date, ratings)" 1
@var checkbox hover_rating "when width smaller, hide rating until hovered" 0
@var checkbox rating_no_text "do not display rating text name" 0
@var checkbox popup_fix "if some popups are 1px wrong" 1
@var checkbox bg_bubbles "Background bubbles" 0
@var checkbox bg_bubbles_dark "Dark orange bubbles" 0
@var checkbox donate_shine "Donation shine effect" 0
@var checkbox bg_dbg "Background bubble debug" 0
==/UserStyle== */

@-moz-document url-prefix("https://spigotmc.org"), url-prefix("https://www.spigotmc.org") {
    html {
        background: black;
        &:before {
            content: @dim;
            display: none;
        }
        --black: #000;
        --black-l: #000;
        --inner-bg: #222;
        --inner-bg-d: #222;
        --inner-bg-l: #222;
        --inner-bg-dark: #1a1a1a;
        --inner-bg-dark-d: #1a1a1a;
        --inner-bg-dark-l: #1a1a1a;
        --inner-bg-verydark: #111;
        --inner-bg-verydark-l: #111;
        --inner-bg-verydark-d: #111;
        --post-bg: #2a2a2a;
        --post-bg-iframe: #2a2a2a;
        --oled-stripe-bg: rgba(255, 255, 255, .068); /* #111 */
        & when (@oled = 1) {
            --black: #0009;
            --black-l: #0000;
            --inner-bg: #0009;
            --inner-bg-d: #000;
            --inner-bg-dark: #0009;
            --inner-bg-dark-d: #000;
            --inner-bg-verydark: #0009;
            --inner-bg-verydark-d: #000;
            --inner-bg-l: #0000;
            --inner-bg-dark-l: #0000;
            --inner-bg-verydark-l: #0000;
            --post-bg: #0000;
            --post-bg-iframe: #0009;
            & when (@olednostripe = 1) {
                --oled-stripe-bg: #0000;
            }
        }
        --orange: rgb(239, 182, 28);
        --orange: #efb61c;
        --orange-dark: rgb(237, 129, 6);
        --orange-dark: #ed8106;
        /* unused
        --orange-bg: #efb61c;
        & when (noorange = 1) {
            --orange-bg: #000;
        }
        /***/
    }

    body {
        background: black;
        color: #d3d3d3;
    }
    html:has(body[contenteditable=true]) {
        background: var(--post-bg-iframe);
    }
    body[contenteditable=true] {
        background: transparent;
    }
    
    a[href]:hover {
        color: #ccc;
    }
    input {
        accent-color: var(--orange);
    }
    .spigot_headerReadAboutWrapper a:hover {
        color: var(--orange);
    }
    .primaryContent a, .ugc a:link, .ugc a:visited {
        color: var(--orange);
    }
    #AccountMenu ul.links a:hover, .articleItem a:hover {
        color: var(--orange);
    }
    .explain .CurrentStatus {
        color: #d3d3d3;
    }

    .hasTabLinks #navigation .navTabs .navTab.selected .navLink {
        border-bottom-color: #1b1e22;
        & when(@oled = 1) {
            border-bottom-color: #000;
        }
    }
    #navigation {
        .navTabs {
            .navTab {
                border-radius: 7px 7px 0 0;
            }
            .navTab .navLink {
                border-radius: 6px 6px 0 0;
            }
            .navTab.PopupOpen .navLink {
                height: 45px;
            }
            .navTab.selected {
                .navLink {
                    background-color: #1b1e22;
                    & when (@black_header = 1) {
                        z-index: 1;
                        & when (@bg_bubbles = 1) {
                            box-shadow: black 0px 0px 9px 5px;
                        }
                    }
                    & when (@oled = 1) and (@black_header = 0) {
                        background: #000;
                    }
                    
                    & when(@oled = 1) and (@black_header = 1) {
                        background: #000;
                        border: 1px solid #30353b;
                        padding: 0 11px;
                        margin-top: 2px;
                        z-index: 1;
                        border-bottom-width: 1px;
                    }
                    --rds: 6px;

                    &::before, &::after {
                        width: 6px;
                        height: 6px;
                        bottom: -6px;
                        background: transparent;
                        border-bottom: 6px solid #1b1e22;
                        z-index: 1;
                        & when (@oled = 1) and (@black_header = 0) {
                            border-bottom-color: black;
                        }
                        & when(@oled = 1) and (@black_header = 1) {
                            width: 8px;
                            height: 8px;
                            bottom: -1px;
                            background: var(--black-l);
                            border-bottom-color: #30353b;
                            border-bottom-width: 1px;
                        }
                    }

                    &::before {
                        left: -6px;
                        border-radius: 0 0 12px 0;
                        border-right: 6px solid #1b1e22;
                        & when (@oled = 1) and (@black_header = 0) {
                            border-right-color: black;
                        }
                        & when(@oled = 1) and (@black_header = 1) {
                            left: -9px;
                            border-radius: 0 0 var(--rds) 0;
                            border-right-width: 1px;
                            border-right-color: #30353b;
                            box-shadow: black 6px 6px 0 6px;
                        }
                    }

                    &::after {
                        right: -6px;
                        border-radius: 0 0 0 12px;
                        border-left: 6px solid #1b1e22;
                        & when (@oled = 1) and (@black_header = 0) {
                            border-left-color: black;
                        }
                        & when(@oled = 1) and (@black_header = 1) {
                            right: -9px;
                            border-radius: 0 0 0 var(--rds);
                            border-left-width: 1px;
                            border-left-color: #30353b;
                            box-shadow: black -6px 6px 0 6px;
                        }
                    }
                }
                &:nth-child(2) {
                    & when (@no_header = 1) {
                        .navLink {
                            position: relative;
                            z-index: 12;
                            & when (@oled = 1) {
                                border-bottom-width: 1px;
                            }
                        }
                    }
                    &::before when (@no_header = 1) {
                        content: '';
                        position: relative;
                        display: inline-block;
                        z-index: 13;
                        margin-right: calc(-7px - 4px);
                        top: 40px;
                        left: calc(-100% - 5px);
                        width: 6px;
                        height: 6px;
                        background: transparent;
                        border-radius: 0 0 12px 0;
                        border-bottom: 6px solid #1b1e22;
                        border-right: 6px solid #1b1e22;
                        & when (@oled = 1) and (@black_header = 0) {
                            border-bottom-color: black;
                            border-right-color: black;
                        }
                        & when(@oled = 1) and (@black_header = 1) {
                            background: var(--black-l);
                            border-bottom-color: #30353b;
                            border-bottom-width: 1px;
                        }
                        & when (@oled = 1) and (@black_header = 1) {
                            border-bottom: 1px solid #30353b;
                            border-right: 1px solid #30353b;
                            top: 35px;
                            left: calc(-100% - 6px - 4px);
                            width: 8px;
                            height: 8px;
                            border-radius: 0 0 6px 0;
                            border-right-width: 1px;
                            border-right-color: #30353b;
                            box-shadow: black 6px 6px 0 6px;
                            /*dbg*
                            border-color: red;
                            background-color: green;
                            z-index: 30;/**/
                        }
                    }
                }
            }
        }
    }
    .navTabs .navLeft {
        & when (@no_header = 1) {
            position: static;
            overflow: visible;
        }
    }
    .navTabs {
        .navTab.selected {
            .tabLinks {
                > .pageWidth {
                    background: inherit;
                    z-index: 13;
                }
                position: absolute;
                background: #1b1e22;
                border-color: #30353b;
                
                
                
                & when (@bg_bubbles = 1) {
                    box-shadow: black 0 11px 9px -5px;
                }
                & when (@oled = 1) and (@black_header = 0) {
                    background: #000;
                }
                & when(@oled = 1) and (@black_header = 1) {
                    background: #000;
                    border-top: 1px solid #30353b;
                    line-height: 42px;
                    li {
                        max-height: 43px;
                    }
                }
                & when (@black_header = 1) {
                    & when (@bg_bubbles = 1) {
                        box-shadow: black 0 0 9px 5px;
                    }
                }
                
                a {
                    color: #ddd;
                    text-shadow: 0 1px #555;
                }
            }
        }
    }
    #searchBar {
        & when(@oled = 1) and (@black_header = 1) {
            line-height: 42px;
            height: 42px;
        }
    }
    #userBar .navTabs {
        & when (@black_header = 1) or (@oled = 1)  {
            background: transparent;
            border-bottom: 0 none;
            padding-bottom: 3px;
            box-shadow: none;
        }
        .navTab:hover, .navTab.PopupClosed:hover {
            & when (@black_header = 1) or (@oled = 1) {
                background: transparent;
            }
        }
        .navTab.PopupClosed when (@black_header = 1) or (@oled = 1) {
            &:hover {
                .avatar img {
                    box-shadow: 0 0 7px 0px #fff;
                }
                .navLink.accountPopup {
                    text-shadow: 0 1px rgba(0,0,0,.25), 0 0 10px #fff;
                }
                .navLink .uix_icon-inbox::before {
                    --sc: rgba(255,255,255,0.2);
                }
                .navLink .uix_icon-alerts::before {
                    --sc: rgba(255,255,255,0.25);
                    --bc: rgba(255,255,255,0.5);
                }
                .navLink .uix_icon-alerts::after {
                    --bc: rgba(255,255,255,0.6);
                }
            }
            .avatar when (@black_header = 1) {
                border-radius: 3px;
                box-shadow: 0 0 6px 2px #0009;
            }
            .avatar when (@black_header = 0) {
                border-radius: 3px;
                box-shadow: 0 0 6px 2px #0005;
            }
            .navLink.accountPopup when (@black_header = 1) {
                text-shadow: 0 1px rgba(0,0,0,.25), -3px 0 10px black, 2px 0 10px black;
            }
            .navLink.accountPopup when (@black_header = 0) {
                text-shadow: 0 1px rgba(0,0,0,.125), -3px 0 10px #0009, 2px 0 10px #0009;
            }
            .navLink .uix_icon-inbox::before {
                --sw: 4px;
                --swm: calc(var(--sw) * -1);
                --sb: 4px;
                --sc: rgba(0,0,0,.35);
                --sc2: rgba(0,0,0,.25);
                & when (@black_header = 0) {
                    --sw: 2px;
                    --sb: 5px;
                    --sc: rgba(0,0,0,.275);
                    --sc2: rgba(0,0,0,0);
                }
                text-shadow: 0 1px var(--sc2), var(--sw) var(--sw) var(--sb) var(--sc), var(--swm) var(--sw) var(--sb) var(--sc), var(--sw) var(--swm) var(--sb) var(--sc), var(--swm) var(--swm) var(--sb) var(--sc);
            }
            .navLink .uix_icon-alerts::before {
                position: relative;
                z-index: 2;
                --sw: 4px;
                --sws: 3px;
                --swsm: calc(var(--sws) * -1);
                --swm: calc(var(--sw) * -1);
                --sb: 4px;
                --sc: rgba(0,0,0,.35);
                --bc: rgba(0,0,0,.5);
                & when (@black_header = 0) {
                    --sw: 2px;
                    --sws: 3px;
                    --sc: rgba(0,0,0,.25);
                    --bc: rgba(0,0,0,.25);
                }
                text-shadow: 0 1px rgba(0,0,0,.25), var(--sw) var(--sws) var(--sb) var(--sc), var(--swm) var(--sw) var(--sb) var(--sc), var(--sw) var(--swm) var(--sb) var(--sc), var(--swm) var(--swm) var(--sb) var(--sc);
                box-shadow: -6px 8px 4px -5px var(--bc), -6px -6px 4px -5px var(--bc);
            }
            .navLink .uix_icon-alerts::after when (@black_header = 1) {
                content: '';
                position:absolute;
                display: block;
                width: 0;
                height: 0;
                bottom: 14px;
                right: 13px;
                --bc: rgba(0,0,0,0.6);
                box-shadow: 0px 0px 4px 2px var(--bc);
            }
        }
    }
    #userBar .navTabs .navLink, #userBar .navTabs .SplitCtrl {
        color: #ddd;
    }
    .Menu {
        border-width: 1px;
        border-left-color: #444;
        border-right-color: #444;
        border-bottom-color: #444;
        border-radius: 0 0 10px 10px;
        &.tabMenu {
            border-left-color: var(--orange);
            border-right-color: var(--orange);
            border-bottom-color: var(--orange);
        }
        .primaryContent {
            background: rgba(38, 38, 38, 0.9);
            border-color: #262626;
        }
        .secondaryContent {
            background: rgba(30, 30, 30, 0.9);
            border-bottom: 1px solid transparent;
        }
    }
    .textCtrl {
        background-color: black;
        color: #bfbfbf;
        border-color: #444;
    }
    .bbCodeEditorContainer textarea.textCtrl {
        border-radius: 0 6px 0 3px;
        position: relative;
        top: -1px;
        right: -1px;
    }
    #QuickSearch .primaryControls .uix_icon {
        color: var(--orange);
        background: #444;
        text-shadow: 0 1px rgba(239, 182, 28,.25);
    }
    #QuickSearch .primaryControls:focus-within {
        .uix_icon {
            line-height: 32px;
            border: 1px solid var(--orange);
            border-right-color: transparent;
        }
    }
    #QuickSearch .formPopup .secondaryControls {
        background: rgba(17, 17, 17, .95);
        background-clip: padding-box;
        border-color: #333;
        box-shadow: 4px 4px 10px -2px rgba(0,0,0,.9);
        color: #d3d3d3;
    }
    #QuickSearch .button:not(.primary) {
        background-color: #333;
        color: #eee;
    }
    .navTabs .navTab.PopupClosed {
        .navLink {
            color: #eee;
        }
    }
    #navigation {
        .navTabs .navTab.PopupOpen when (@black_header = 1) and (@bg_bubbles = 1) {
            z-index: 15;
            .navLink {
                box-shadow: 0 0 9px 5px #000;
            }
        }
        .navTabs .navTab.PopupClosed when (@black_header = 1) {
            &:hover {
                .navLink {
                    text-shadow: 0 1px rgba(0,0,0,.25), 0 0 15px #fff;
                }
                .SplitCtrl {
                    text-shadow: 0 1px rgba(0,0,0,.25), 0 0 15px #fff, 0 4px 15px #fff, 4px 4px 15px #fff, -2px 4px 15px #fff, -4px -4px 15px #fff;
                }
            }
            .navLink {
                text-shadow: 0 1px rgba(0,0,0,.25), -5px 0 15px black, 5px 0 15px black;
            }
            .SplitCtrl {
                text-shadow: 0 1px rgba(0,0,0,.25), 0px 0px 12px black, 0px 0px 12px black, -6px -6px 12px black, 6px -6px 12px black, -6px 6px 12px black, 6px 6px 12px black;
            }
        }
    }
    .sidebar .section .primaryContent h3, .sidebar .section .secondaryContent h3, .profilePage .mast .section.infoBlock h3, .breadcrumb, a.callToAction span, .xenOverlay .heading {
        box-shadow: inset 0 1px rgba(255,255,255,.4),inset 0 -1px rgba(0,0,0,.2);
        color: #eee;
        & when(@dim < 0.95) {
            color: #fff;
        }
        & when(@noorange = 1) {
            box-shadow: none;
            color: #858585;
        }
    }
    .sidebar .section.widget_Donate when (@noorange = 1) and (@donate_shine = 1) {
        .secondaryContent {
            padding: 0;
            box-sizing: border-box;
                position: relative;
            h3 {
                display: inline-block;
                margin: 0;
                padding: 8px;
                text-shadow: none;
                color: transparent;
                background-clip: text;
                --shine-duration: 5s;
                --shine-base: transparent;
                --shine-shine: rgba(255,255,255,0.5);
                background-color: var(--orange-dark);

                background-image: -moz-linear-gradient(90deg, var(--shine-base) 94%, var(--shine-shine) 97%, var(--shine-base) 100%);
                background-image: -webkit-linear-gradient(90deg, var(--shine-base) 94%, var(--shine-shine) 97%, var(--shine-base) 100%);
                background-image: linear-gradient(90deg, var(--shine-base) 94%, var(--shine-shine) 97%, var(--shine-base) 100%);

                background-image: -moz-linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 96%, var(--shine-base) 100%);
                background-image: -webkit-linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 96%, var(--shine-base) 100%);
                background-image: linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 96%, var(--shine-base) 100%);

                background-image: -moz-linear-gradient(90deg, var(--shine-base) 85%, var(--shine-shine) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
                background-image: -webkit-linear-gradient(90deg, var(--shine-base) 85%, var(--shine-shine) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
                background-image: linear-gradient(90deg, var(--shine-base) 85%, var(--shine-shine) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
                background-size: 200% auto;
                animation: shine var(--shine-duration) 0s linear infinite;

                border-bottom: 0 none;
                &::after {
                    pointer-events: none;
                    content: ".";
                    color: transparent;
                    display: block;
                    position: absolute;
                    left: 0;
                    top: 0;
                    right: 0;
                    border-radius: 12px 12px 0 0;
                    border-bottom: 1px solid #444;
                    padding: 9px 0 10px 0;
                }

                & when (@oled = 1) {
                    border-top: 0 none;
                    padding: 8px 8px 6px 8px;
                    &::after {
                        padding: 8px 0 7px 0;
                        border-top: 2px solid #333;
                        border-bottom-color: #333;
                        border-radius: 6px 6px 0 0;
                    }
                }
            }
            form {
                padding: 8px;
                background: var(--inner-bg);
                border-radius: 0 0 6px 6px;
                & when (@oled = 1) {
                    padding: 8px 7px 7px 7px;
                }
                input[type="image"] {
                    border-radius: 13px;
                    &:hover {
                        filter: saturate(2.5);
                    }
                }
            }
            background: var(--inner-bg-dark);
        }
    }
    .sidebar .section.widget_Donate .secondaryContent form::after when (@donate_shine = 1) {
        pointer-events: none;
        position: absolute;
        left: 9px;
        bottom: 12px;
        width: 90px;
        height: 24px;
        border-radius: 13px;
        content: "";
        --shine-duration: 5s;
        --shine-base: transparent;
        --shine-shine: rgba(255,255,255,0.5);
        background-color: transparent;

        background-image: -moz-linear-gradient(90deg, var(--shine-base) 94%, var(--shine-shine) 97%, var(--shine-base) 100%);
        background-image: -webkit-linear-gradient(90deg, var(--shine-base) 94%, var(--shine-shine) 97%, var(--shine-base) 100%);
        background-image: linear-gradient(90deg, var(--shine-base) 94%, var(--shine-shine) 97%, var(--shine-base) 100%);

        background-image: -moz-linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 96%, var(--shine-base) 100%);
        background-image: -webkit-linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 96%, var(--shine-base) 100%);
        background-image: linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 96%, var(--shine-base) 100%);

        background-image: -moz-linear-gradient(90deg, var(--shine-base) 85%, var(--shine-shine) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
        background-image: -webkit-linear-gradient(90deg, var(--shine-base) 85%, var(--shine-shine) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
        background-image: linear-gradient(90deg, var(--shine-base) 85%, var(--shine-shine) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
        background-size: 200% auto;
        animation: shine var(--shine-duration) 0s linear infinite;
        @media (max-width: 610px) or (min-width: 719px) {
            bottom: 13px;
        }
    }

    .breadBoxTop > nav, .breadBoxBottom nav {
        border-radius: 6px;
    }
    a.callToAction {
        span {
            & when (@noorange = 1) and (@oled = 1) {
                border: 1px solid #333;
                box-sizing: border-box;
                padding: 0 15px;
            }
        }
        &:hover span {
            color: #fff;
        }
    }
    *:not(.sidebar) > a.callToAction span when (@noorange = 1) and (@oled = 1) {
        line-height: 38px;
    }
    .breadcrumb when(@noorange = 1) {
        border: 1px solid #333;
        border-top-width: 3px;
    }
    .breadcrumb .crust when(@noorange = 1) {
        height: 36px;
        line-height: 34px;
    }
    .breadcrumb .jumpMenuTrigger when(@noorange = 1) {
        height: 36px;
        line-height: 34px;
        padding-right: 9px;
    }
    .breadcrumb .crust a.crumb {
        color: #eee;
        border-bottom: none;
        & when(@dim < 0.95) {
            & when(@oled = 0) {
                color: #fff;
            }
        }
    }
    .breadcrumb .crust:first-child a.crumb when(@noorange = 1) {
        padding-left: 9px;
    }
    .breadcrumb .crust a.crumb > span {
        position: relative;
        top: 1px;
    }
    .breadcrumb .jumpMenuTrigger {
        & when(@dim < 0.95) {
            & when(@oled = 0) {
                color: #fff;
            }
        }
    }
    .sidebar .section .primaryContent h3, .sidebar .section .secondaryContent h3, .profilePage .mast .section.infoBlock h3, .breadcrumb, a.callToAction span, .xenOverlay .heading {
        filter: brightness(@dim);
        & when(@noorange = 1) {
            filter: none;
            background: var(--inner-bg-dark);
        }
        
    }
    .sidebar .section .primaryContent, .sidebar .section .secondaryContent {
        h3 {
            & when (@oled = 1) and (@noorange = 0) {
                margin: -9px -8px 8px -8px !important;
            }
            & when (@oled = 1) and (@noorange = 1) {
                border-top: 2px solid #333;
                border-bottom: 1px solid #333;
                padding-top: 6px;
                padding-bottom: 6px;
                margin: -8px -7px 7px -7px;
                
            }
            & when (@oled = 0) and (@noorange = 1) {
                border-bottom: 1px solid #444;
                margin-bottom: 7px;
            }
        }
        & when (@oled = 1) {
            padding: 8px 7px 7px 7px;
        }
    }
    .sidebar .funbox {
        & when (@oled = 1) and (@noorange = 0) {
            margin: 15px 0;
        }
    }
    .profilePage .mast .section.infoBlock {
        h3 {
            & when (@oled = 1) and (@noorange = 0) {
                ;
            }
            & when (@oled = 1) and (@noorange = 1) {
                border-bottom: 1px solid #333;
                padding-top: 6px;
                padding-bottom: 6px;
                margin: -8px -7px 7px -7px;
                
            }
            & when (@oled = 0) and (@noorange = 1) {
                border-bottom: 1px solid #444;
                margin-bottom: 7px;
            }
        }
        & when (@oled = 1) {
            padding: 8px 7px 7px 7px;
        }
    }
    .breadcrumb, .uix_breadCrumb_toggleList li.toggleList_item {
        filter: brightness(@dim);
    }
    #navigation .navTabs {
        & when (@black_header = 0)  {
            filter: brightness(@dim);
        }
        & when (@black_header = 1)  {
            background: transparent;
            box-shadow: none;
        }
    }

    & when (@no_header = 1) {
        #navigation .navTabs {
            > .pageWidth {
                padding-left: 0px;
                padding-right: 10px;
                ul li.articles.PopupClosed:hover a.navLink {
                    background: -moz-radial-gradient(circle at 20%, rgba(255, 255, 255, 0.22) 0%, #00000000 35%);
                    background: -webkit-radial-gradient(circle at 20%, rgba(255, 255, 255, 0.22) 0%, #00000000 35%);
                    background: radial-gradient(circle at 20%, rgba(255, 255, 255, 0.22) 0%, #00000000 35%);
                    &::before {
                        filter: brightness(1.1);
                    }
                }
                ul li.articles a.navLink {
                    padding-left: 0px;
                    display: flex;

                    &::before {
                        background-image: url("//static.spigotmc.org/img/spigot.png");
                        background-size: 50px;
                        background-repeat: no-repeat;
                        background-position-x: 5px;
                        background-position-y: 5px;
                        content: "";
                        display: inline-block;
                        height: 40px;
                        width: 55px;
                        position: static;
                        border: 0 none;
                        border-radius: 8px 8px 0 8px;
                        box-shadow: none;
                    }
                }
            }
        }
        @media(max-width: 800px) {
            #navigation .navTabs {
                .navTab.selected:nth-child(2)::before {
                    content: none;
                    display: none;
                }
                > .pageWidth {
                    padding-left: 16px;
                    padding-right: 16px;
                    ul li.articles a.navLink {
                        background-image: none;
                        background-size: 50px;
                        background-repeat: no-repeat;
                        background-position-y: 0;

                        &::before {
                            content: none;
                            display: none;
                            height: 0px;
                            width: 0px;
                            border-radius: 0;
                        }
                    }
                }
            }
            #navigation .pageContent .navTabs ul.navLeft li.navTab--navPanelTrigger {
                &:hover a.navLink {
                    background: -moz-radial-gradient(circle at 20%, rgba(255, 255, 255, 0.22) 0%, #00000000 35%);
                    background: -webkit-radial-gradient(circle at 20%, rgba(255, 255, 255, 0.22) 0%, #00000000 35%);
                    background: radial-gradient(circle at 20%, rgba(255, 255, 255, 0.22) 0%, #00000000 35%);
                    i.uix_icon-menu {
                        filter: brightness(1.1);
                    }
                }
                a.navLink {
                    padding-left: 0px;
                    &:hover {
                        background: -moz-radial-gradient(circle at 20%, rgba(255, 255, 255, 0.22) 0%, #00000000 35%);
                        background: -webkit-radial-gradient(circle at 20%, rgba(255, 255, 255, 0.22) 0%, #00000000 35%);
                        background: radial-gradient(circle at 20%, rgba(255, 255, 255, 0.22) 0%, #00000000 35%);
                    }
                }
                i.uix_icon-menu {
                    padding-left:50px;
                    background-image: url("//static.spigotmc.org/img/spigot.png");
                    background-size: 50px;
                    background-repeat: no-repeat;
                    background-position-y: 5px;
                    background-origin: border-box;
                    
                    
                }
            }
            .resourceListMain .section {
                margin-top: 0;
                .pageNavLinkGroup:first-child {
                    height: 0px;
                    margin: 0;
                    padding: 0;
                    width: auto;
                    display: inline-block;
                    .linkGroup.SelectionCountContainer {
                        position: absolute;
                        right: 0px;
                        top: 0px;
                        margin: 0;
                        float: unset;
                        display: inline-block;
                        a {
                            margin: 0;
                            float: unset;
                            display: inline-block;
                        }
                    }
                }
            }
        }
        @media(min-width: 1200px) {
            #header #userBar .navTabs {
                box-shadow: none;
            }
            #header #userBar {
                display: block;
                position: absolute;
                width: 100%;
                .pagewidth {
                    position: absolute;
                }
                .navTab {
                    padding-top: 6px;
                    padding-bottom: 5px;
                }
                .navRight {
                    position: relative;
                    margin-left: auto;
                    margin-right: 0;
                    z-index: 999;
                }
            }
        }
    }
    #logoBlock {
        & when (@no_header = 1) {
            display: none;
        }
        & when (@no_header = 0) and (@oled = 1) and (black_header = 1) and (@bg_bubbles = 1) {
            box-shadow: black 0 -11px 9px -5px;
        }
    }
    #logoBlock .pageContent {
        & when (@black_header = 1)  {
            background: transparent;
        }
        #logo {
            & when (@bg_bubbles = 1) {
                a {
                    display: block;
                    position: relative;
                    > span {
                        display: block;
                        position: absolute;
                        --size: 50px;
                        width: var(--size);
                        height: var(--size);
                        top: calc(60% - var(--size) / 2);
                        left: calc(50% - var(--size) / 2);
                    }
                    > img when (@black_header = 1) {
                        position: relative;
                        filter: drop-shadow(0 0 10px #000);
                    }
                }
            }
            & when (@black_header = 1) {
                background: transparent;
                position: relative;
                top: -12px;
            }
        }
    }
    #logoBlock .spigot_colorOverlay {
        & when (@black_header = 0)  {
            filter: brightness(@dim);
        }
        & when (@black_header = 1)  {
            background: transparent;
        }
    }
    .spigot_headerReadAboutWrapper {
        & when (@black_header = 0)  {
            filter: brightness(calc( 1 / @dim));
        }
        & when (@black_header = 1)  {
            color: #d3d3d3;
            background: #393e44;
            background: #2f3338;
            border-top: solid 1px #282828;
            border-bottom: 3px solid #25282d;
        }
        & when(@oled = 1) {
            background: #000;
            & when (@black_header = 1)  {
                box-shadow: 0 0 9px 5px #000;
                border-left: 1px solid #282828;
                border-right: 2px solid #282828;
                padding: 8px 15px;
            }
        }
    }
    .sidebar .section .secondaryContent {
        box-shadow: 0 0 3px rgba(255,255,255,.75);
        & when (@oled = 1)  {
            box-shadow: none;
            border: 1px solid rgba(255,255,255,.25);
        }
    }
    .sidebar .section {
        border-radius: 6px;
    }
    .sidebar .section.funbox {
        overflow: initial;
    }
    .primaryContent {
        background: var(--inner-bg);
        border-bottom-color: #444;
        border-color: #444;
    }
    .secondaryContent {
        background: var(--inner-bg);
        border-bottom-color: #444;
        border-color: #444;
        & when (@oled = 1) {
            padding: 0;
        }
        
        a[href]:not(.username):hover {
            color: #bbb;
            color: var(--orange);
        }
    }
    .blockLinksList {
        a, label {
            color: #fff;
        }
        a:hover, a:focus, li.kbSelect a, label:hover, label:focus, li.kbSelect label {
            color: #bbb;
            color: var(--orange);
        }
    }
    .mainContainer {
        /*margin-bottom: 16px;*/
        @media (min-width: 801px) {
            width: calc(100% - 266px) !important;
            margin-right: 0 !important;
            .mainContent {
                margin-right: 0 !important;
                &.withTransition {
                    transition: none;
                }
            }
        }
    }
    .mainContainer .mainContent, .mainContainer_noSidebar {
        background-color: var(--inner-bg);
        border-color: #444;
    }
    .articlePager .PageNav {
        padding: 8px 16px;
        margin: 0;
        .pageNavHeader {
            padding: 0;
            margin: 0 4px 0 0;
        }
        nav {
            a, .scrollable {
                margin-bottom: 0;
            }
            a:last-child {
                margin-right: 0;
            }
        }
    }
    .hasRightSidebar #content.EWRporta2_ArticleList .mainContainer .mainContent {
        &::after {
            content: unset;
            display: none;
        }
        @media (min-width: 801px) {
            .articlePager {
                & when (@nobg = 0) {
                    margin-bottom: 1px;
                }
                & when (@nobg = 1) {
                    margin-bottom: 0px;
                }
            }
        }
    }
    #wikiPage {
        margin-bottom: 0 !important;
    }
    .mainContent > .funbox {
        margin-top: 16px;
    }
    & when (@nobg = 1) {
        #content.EWRporta2_ArticleList .mainContainer .mainContent {
            padding: 0;
            margin: 0;
            border: 0 none;
            background-color: transparent;
        }
        .hasRightSidebar #content.EWRporta2_ArticleList {
            .uix_contentFix {
                @media (min-width: 801px) {
                    display: flex;
                    justify-content: space-between;
                }
                &::after {
                    content: unset;
                    display: none;
                }
            }
            .mainContainer {
                @media (min-width: 801px) {
                    float: unset;
                    margin-right: 16px !important;
                    width: calc(100% - 266px);
                }
                .mainContent {
                    margin-right: 0 !important;
                    &::after {
                        content: unset;
                        display: none;
                    }
                    #articlesGrid {
                        & >.articleItem {
                            margin-bottom: 16px;
                        }
                        .sectionMain {
                            margin: 0 auto;
                        }
                    }
                }
                .articlePager .PageNav {
                    border-radius: 6px;
                    background: var(--inner-bg);
                }
            }
            aside.uix_mainSidebar {
                @media (min-width: 801px) {
                    float: unset;
                }
                margin-bottom: 16px;
            }
        }
    }
    
    .tabs {
        border-bottom-color: #555;
        
        li a, &.noLinks li {
            color: #eee;
            background: #111;
            border-color: #555;
            border-bottom: 0 none;
            border-radius: 0;
        }
        li:hover a, &.noLinks li:hover {
            color: #fff;
            background-color: #333;
        }
        li.active a, &.noLinks li.active {
            color: #eee;
            background-color: #777;
        }
        li:first-child a, &.noLinks li:first-child {
            border-top-left-radius: 4px;
        }
        li:last-child a, &.noLinks li:last-child {
            border-top-right-radius: 4px;
        }
    }
    
    .textHeading, .xenForm .sectionHeader {
        border-bottom-color: #333;
    }
    .messageSimple {
        border-bottom-color: #555;
    }
    .resourceUpdate {
        border-top: 0 none;
        
        .likesSummary {
            background-color: #333;
            border-color: #444;
            color: inherit;
        }
    }
    #content.resource_author_view .mainContent {
        background: linear-gradient(180deg, var(--inner-bg-dark) 49%, var(--inner-bg) 50%);
        .titleBar {
            margin-bottom: 0;
        }
        > .section {
            margin-top: 0;
            .resourceList {
                margin-left: -16px;
                margin-right: -16px;
            }
            .pageNavLinkGroup {
                margin-bottom: -22px;
                .pageNavHeader {
                    margin-right: 16px;
                }
            }
            :not(:has(.pageNavLinkGroup > .PageNav)) {
                .pageNavLinkGroup {
                    display: none;
                }
                .resourceList {
                    margin-left: -16px;
                    margin-right: -16px;
                    margin-bottom: -32px;
                    .resourceListItem:last-child {
                        border-bottom: 0 none;
                        border-bottom-left-radius: 6px;
                        border-bottom-right-radius: 6px;
                    }
                }
            } 
        }
    }
    #content.resource_description, #content.resource_field, #content.resource_updates, #content.resource_reviews, #content.resource_history, #content.thread_view:has(.mainContent > .resourceInfo) {
        .mainContainer_noSidebar {
            padding: 0;
        }
        .mainContent {
            flex-direction: column;
            padding: 0;
            margin: 0 !important;
            &:has(.resourceInfo) {
                .quickReply {
                    margin-left: 16px;
                    margin-right: 16px;
                }
            }
            .resourceInfo {
                margin: 0;
                padding: 8px;
                .resourceImage {
                    line-height: 0;
                    margin-bottom: 0;
                }
                .primaryLinks {
                    min-width: 0;
                }
            }
            .resourceTabs {
                max-width: 100%;
                margin: 0 0 9px 0;
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: flex-start;
                border-top: 1px solid #555;
                .extraLinks {
                    position: absolute;
                    top: -17px;
                    right: 8px;
                }
                .tabs {
                    display: contents;
                    margin-top: 0;
                    padding: 0;
                    li {
                        display: inline-block;
                        position: relative;
                        flex-grow: 1;
                        flex-shrink: 1;
                        a {
                            width: 100%;
                            border-radius: 0;
                            display: inline-block;
                            margin: 0;
                            border-right: 0 none;
                            border-top: 0 none;
                            border-bottom: 1px solid #555;
                            box-sizing: border-box;
                            text-align: center;
                            padding-left: 12px;
                            padding-right: 12px;
                        }
                        &:first-child a {
                            border-left: 0;
                        }
                        &.active {
                            &::before,
                            &::after,
                            a::before,
                            a::after {
                                content:'';
                                display: block;
                                position: absolute;
                                background: transparent;
                                box-sizing: border-box;
                                border-width: 0;
                                border-style: solid;
                                width: var(--size);
                                height: var(--size);
                            }
                            &::before, &::after {
                                --size: 8px;
                                --width: 3px;
                                z-index: 2;
                                bottom: calc(1px - var(--width));
                                border-color: var(--inner-bg);
                            }
                            &::before {
                                left: calc(0px - var(--size) + var(--width));
                                border-right-width: var(--width);
                                border-bottom-width: var(--width);
                                border-bottom-right-radius: 5px;
                            }
                            &::after {
                                right: calc(-1px - var(--size) + var(--width));
                                border-left-width: var(--width);
                                border-bottom-width: var(--width);
                                border-bottom-left-radius: 6px;
                            }
                            &:first-child::before,
                            &:last-child::after,
                            &:first-child a::before,
                            &:last-child a::after {
                                display: none;
                            }
                            a {
                                position: relative;
                                border-bottom: 0;
                                background: transparent;
                                &::before, &::after {
                                    --size: 6px;
                                    --radius: 4px;
                                    z-index: 3;
                                    bottom: 0;
                                    border-color: #555;
                                }
                                &::before {
                                    left: calc(0px - var(--size));
                                    border-right-width: 1px;
                                    border-bottom-width: 1px;
                                    border-bottom-right-radius: var(--radius);
                                }
                                &::after {
                                    right: calc(0px - var(--size));
                                    border-left-width: 1px;
                                    border-bottom-width: 1px;
                                    border-bottom-left-radius: var(--radius);
                                    zoutline: 1px solid red;
                                }
                            }
                        }
                    }
                }
            }
            .innerContent {
                .section {
                    margin: 0;
                    &:is(blockquote) {
                        margin: 8px;
                    }
                    &.updates {
                        .textHeading, li, .moreLink {
                            padding-left: 8px;
                            padding-right: 8px;
                        }
                    }
                    &.reviews {
                        .textHeading {
                            padding-left: 8px;
                            padding-right: 8px;
                        }
                        &:has(div[style="display: none"]):not(:has(.moreLink)) {
                            li:last-child {
                                border-radius: 0 0 6px 6px;
                                border-bottom: 0 none;
                                margin-bottom: 0;
                            }
                        }
                    }
                    > ol {
                        display: contents;
                        > li.primaryContent.resourceUpdate {
                            zpadding: 0;
                            zmargin: 10px 16px;
                        }
                    }
                }
                li.review {
                    .avatar {
                        margin-left: 8px;
                    }
                    .messageInfo {
                        margin-right: 8px;
                    }
                    
                }
                &:has(.pageNavLinkGroup > .linkGroup[style="display: none"]):not(>.PageNav) {
                    li.review {
                        &:last-child {
                            border-radius: 0 0 6px 6px;
                            border-color: #444;
                            margin-bottom: -1px;
                        }
                    }
                    .pageNavLinkGroup {
                        display: none;
                    }
                }
                .PageNav {
                    margin-left: 10px;
                    margin-right: 10px;
                }
                .updateContainer {
                    .textHeading {
                        border-bottom-color: var(--orange);
                        border-image: linear-gradient(to right, var(--orange) -10%, #4440 95%) 1;
                        padding-bottom: 2px;
                        margin-bottom: 14px;
                    }
                    &:not(:has(> .PageNav)) {
                        li.resourceUpdate:last-child {
                            border-radius: 0 0 6px 6px;
                            border-color: #444;
                            margin-bottom: -1px;
                        }
                    }
                    .PageNav {
                        margin-bottom: 3px;
                    }
                }
                .dataTable.resourceHistory {
                    border-radius: 0 0 6px 6px;
                    overflow: hidden;
                    margin-top: -7px;
                    margin-bottom: 0;
                    th {
                        border-top: 0 none;
                        background: transparent;
                    }
                    tr:nth-child(2n) {
                        background-color: var(--inner-bg-dark);
                        & when (@oled = 1) {
                            background-color: var(--oled-stripe-bg);
                        }
                        &:last-child {
                            border-bottom-right-radius: 5px;
                        }
                    }
                    tr:last-child {
                        td {
                            border-bottom: 0 none;
                            &:last-child {
                                a {
                                    border-bottom-right-radius: 5px;
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    #content.thread_view:has(.mainContent > .resourceInfo) {
        .pageNavLinkGroup, li.message {
            margin-left: 16px;
            margin-right: 16px;
        }
    }
    
    #Sponsors2 {
        > .secondaryContent {
            padding-bottom: 0;
            h3 {
                margin-bottom: 0;
            }
            > div {
                display: flex;
                justify-content: space-around;
                flex-wrap: wrap;
                align-items: center;
                a {
                    display: block;
                    margin: 8px 0;
                }
            }
        }
    }
    .sidebar > .callToAction {
        margin: 10px auto;
        span {
            border: 1px solid #333;
            background: linear-gradient(0deg, #0a0a0a 0%, #1a1a1a 90%);
        }
        &:hover span when (@noorange = 0) {
            border-top-color: hsl(32, 95%, 75%);
            background: var(--orange-dark) -moz-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) -webkit-gradient(linear,left top,left bottom,color-stop(0%,url(rgba.php?r=255&g=255&b=255&a=51)),color-stop(100%,rgba(255,255,255,0)));
            background: var(--orange-dark) -webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0.2)),color-stop(100%,rgba(255,255,255,0)));
            _filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#33FFFFFF,endColorstr=#33FFFFFF);
            background: var(--orange-dark) -webkit-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) -o-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) -ms-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) linear-gradient(to bottom,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            filter: brightness(@dim);
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#33ffffff',endColorstr='#00ffffff',GradientType=0 ) brightness(@dim);
        }
        &:hover span when (@noorange = 1) {
            background: #1a1a1a;
            border-color: #444;
        }
    }
    .breadBoxTop.withTopCtrl .callToAction {
        span {
            & when (@oled = 0) and (@noorange = 1) {
            }
        }
        &:hover span when (@noorange = 1) {
            border-top:  1px solid hsl(32, 95%, 75%);
            background: var(--orange-dark) -moz-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) -webkit-gradient(linear,left top,left bottom,color-stop(0%,url(rgba.php?r=255&g=255&b=255&a=51)),color-stop(100%,rgba(255,255,255,0)));
            background: var(--orange-dark) -webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0.2)),color-stop(100%,rgba(255,255,255,0)));
            _filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#33FFFFFF,endColorstr=#33FFFFFF);
            background: var(--orange-dark) -webkit-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) -o-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) -ms-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) linear-gradient(to bottom,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            filter: brightness(@dim);
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#33ffffff',endColorstr='#00ffffff',GradientType=0 ) brightness(@dim);
            & when (@oled = 0) {
                padding-top: 0;
                line-height: 38px;
                height: 39px;
            }
            & when (@oled = 1) {
                border: 0 none;
                border-top:  1px solid hsl(32, 95%, 75%);
                padding: 0 16px 1px 16px;
            }
        }
    }
    
    .PageNav a {
        background-color: #333;
        border-color: #444;
        &:hover, &:focus {
            background-color: #444;
            border-color: #555;
            color: var(--orange);
        }
        
        &.currentPage:hover {
            background-color: #3f6e8d;
            border-color: #3a6581;
            color: #fff;
        }
        &.PageNavPrev, &.PageNavNext {
            background-color: #303030;
            color: #666;
            &:hover {
                background-color: #333;
                color: #bbb;
            }
        }
    }
    footer {
        background: var(--inner-bg-verydark-l);
        text-shadow: 0px 0px 12px black;
        margin-top: 16px;
        .uix_socialMediaLinks {
            font-size: 0;
        }
        .uix_socialLink {
            /* 
            more radius here to prevent corner white background leaking on hover,
            colored layer uses 3px border radius
            */
            border-radius: 6px;
            background-color: var(--black);
            background-clip: border-box;
            margin-right: 4px;
            transition: background-color 0.15s 0s cubic-bezier(0,.25,.25,1);
            
            a {
                background-image: none;
                border-radius: 3px;
                margin-right: 0;
                color: #000;
                _text-shadow: 1px 1px #777;
                text-shadow: none;

                mask-repeat: no-repeat;
                mask-size: 48px 48px;
                mask-position: calc(50% - 0px) calc(50% + 0px);
                transition: mask-position 0.15s 0s cubic-bezier(0,.25,.25,1),
                    box-shadow 0.15s 0s cubic-bezier(0,.25,.25,1);
                &:hover {
                    mask-position: calc(50% + 0px) calc(50% + 1px);
                    box-shadow: inset 0px 2px 0 rgba(0,0,0,.4);
                    color: #000;
                    text-shadow: none;
                }
                i {
                    display: none;
                    &::before {
                        content: none;
                        display: none;
                    }
                }
            }
            &:hover {
                background-color: #fff;
            }
        }
        .uix_socialLink--twitter {
            a {
                /* twitter inverted */
                mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 1024'%3E%3Cpath d='m0 0v1024h1024v-1024h-1024zm610.44 304.08c30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.455-13.32 66.598-25.34-7.798 24.366-24.365 44.832-46.131 57.826 21.117-2.273 41.584-8.1212 60.426-16.242-14.292 20.791-32.162 39.309-52.629 54.254 0.325 4.548 0.32617 9.0965 0.32617 13.645 0 138.72-105.58 298.56-298.56 298.56-59.452 0-114.68-17.22-161.14-47.107 8.447 0.974 16.568 1.2988 25.34 1.2988 49.055 0 94.212-16.568 130.27-44.832-46.132-0.975-84.791-31.188-98.111-72.771 6.498 0.974 12.995 1.625 19.818 1.625 9.421 0 18.842-1.3012 27.613-3.5742-48.081-9.747-84.143-51.979-84.143-102.98v-1.2988c13.969 7.797 30.215 12.669 47.432 13.318-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.196-37.361 14.293-52.955 51.655 63.675 129.3 105.26 216.37 109.81-1.624-7.797-2.5977-15.919-2.5977-24.041 0-57.828 46.782-104.93 104.93-104.93z'/%3E%3C/svg%3E");
                i {
                    /* twitter */
                    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z'/%3E%3C/svg%3E");
                }
            }
        }
        .uix_socialLink--contact {
            a {
                /* inverted envelope */
                mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 1024'%3E%3Cpath d='M 0 0 L 0 1024 L 1024 1024 L 1024 0 L 0 0 z M 304 320 L 720 320 C 746.49994 320 768 341.50006 768 368 C 768 383.09996 760.90076 397.30041 748.80078 406.40039 L 531.19922 569.59961 C 519.79924 578.09959 504.20076 578.09959 492.80078 569.59961 L 275.19922 406.40039 C 263.09924 397.30041 256 383.09996 256 368 C 256 341.50006 277.50006 320 304 320 z M 256 432 L 473.59961 595.19922 C 496.39957 612.29918 527.60043 612.29918 550.40039 595.19922 L 768 432 L 768 640 C 768 675.29992 739.29992 704 704 704 L 320 704 C 284.70008 704 256 675.29992 256 640 L 256 432 z'/%3E%3C/svg%3E");
                i {
                    /* envelope */
                    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z'/%3E%3C/svg%3E");
                }
            }
        }
        .uix_socialLink--rss {
            a {
                /* rss inverted */
                mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 1024'%3E%3Cpath d='m0 0v1024h1024v-1024h-1024zm288 288c247 0 448 201 448 448h-64c0-212-172-384-384-384v-64zm0 128c177 0 320 143 320 320h-64c0-141-115-256-256-256v-64zm64 192a64 64 0 0 1 64 64 64 64 0 0 1-128 0 64 64 0 0 1 64-64z'/%3E%3C/svg%3E");
                i {
                    /* rss */
                    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='m480 480c0-247-201-448-448-448v64c212 0 384 172 384 384zm-448-320v64c141 0 256 115 256 256h64c0-177-143-320-320-320zm128 256a64 64 0 1 0-128 0 64 64 0 1 0 128 0z'/%3E%3C/svg%3E");
                }
            }
        }
        .footerLinks {
            text-shadow: 0 1px 0 rgba(0,0,0,.5), 0px 0px 12px black;
        }
    }
    .footerLegal .pageContent {
        padding-bottom: 16px;
    }
    .footer {
        color: inherit;
        .pageContent when(@noorange = 1) {
            border-top-color: #333;
        }
        a, a:visited {
            color: inherit;
        }
        .choosers a {
            background-color: var(--inner-bg);
            border-color: #444;
            &:hover {
                background-color: #333;
                border-color: #555;
            }
        }
    }
    @keyframes shine {
        0% {
            background-position: 200% center;
        }
        50% {
            background-position: 0% center;
        }
        100% {
            background-position: 0% center;
        }
    }
    :root #copyright {
        display: inline-block;
        width: auto;
        --shine-duration: 5s;
        --shine-text: hsl(0, 0%, 100%);
        .thCopyrightNoticeStyle {
            position: relative;
            line-height: 16px;
        }
        .thCopyrightNoticeStyle::before {
            text-shadow: none;
            /* background glow */
            font-size: 13px;
            line-height: 16px;
            content: "SpigotMC NewDark theme by Janmm14.";
            box-sizing: border-box;
            display: inline-block;
            z-index: 1;
            position: absolute;
            padding: 5px 9px;
            left: 0;
            top: 20px;
            width: 100%;
            color: transparent;
            --shine-base: rgba(239,182,28,0);
            --shine-shine: rgba(239,182,28,.35);
            background-image: -moz-linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
            background-image: -webkit-linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
            background-image: linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
            background-size: 200% auto;

            animation: shine var(--shine-duration) 0s linear infinite;
        }
        .thCopyrightNoticeStyle::after {
            /* text glow */
            text-shadow: none;
            font-size: 13px;
            line-height: 16px;
            content: "SpigotMC NewDark theme by Janmm14.";
            box-sizing: border-box;
            display: inline-block;
            z-index: 2;
            position: absolute;
            padding: 5px 9px;
            left: 0;
            top: 20px;
            width: 100%;
            border-radius: 4px;
            --shine-base: var(--shine-text);
            --shine-shine: white;
            background-color: var(--orange-dark);

            background-image: -moz-linear-gradient(90deg, var(--shine-base) 94%, var(--shine-shine) 97%, var(--shine-base) 100%);
            background-image: -webkit-linear-gradient(90deg, var(--shine-base) 94%, var(--shine-shine) 97%, var(--shine-base) 100%);
            background-image: linear-gradient(90deg, var(--shine-base) 94%, var(--shine-shine) 97%, var(--shine-base) 100%);

            background-image: -moz-linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 96%, var(--shine-base) 100%);
            background-image: -webkit-linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 96%, var(--shine-base) 100%);
            background-image: linear-gradient(90deg, var(--shine-base) 90%, var(--shine-shine) 96%, var(--shine-base) 100%);

            background-image: -moz-linear-gradient(90deg, var(--shine-base) 85%, var(--shine-shine) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
            background-image: -webkit-linear-gradient(90deg, var(--shine-base) 85%, var(--shine-shine) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);
            background-image: linear-gradient(90deg, var(--shine-base) 85%, var(--shine-shine) 90%, var(--shine-shine) 95%, var(--shine-base) 100%);

            background-size: 200% auto;

            animation: shine var(--shine-duration) 0s linear infinite;

            color: red;
            color: transparent;
            _color: var(--shine-text);
            background-clip: text;
        }
    }
    #copyright::after {
        text-shadow: none;
        text-shadow: 0px 0px var(--shine-text), 0px -1px rgba(0,0,0,.25);
        font-size: 13px;
        line-height: 16px;
        display: inline-block;
        content: "SpigotMC NewDark theme by Janmm14.";
        background-color: var(--orange-dark);
        color: black;
        color: var(--shine-text);
        color: transparent;

        background: #ed8106 -moz-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
        background: #ed8106 -webkit-gradient(linear,left top,left bottom,color-stop(0%,url(rgba.php?r=255&g=255&b=255&a=51)),color-stop(100%,rgba(255,255,255,0)));
        background: #ed8106 -webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0.2)),color-stop(100%,rgba(255,255,255,0)));
        background: #ed8106 -webkit-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
        background: #ed8106 -o-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
        background: #ed8106 -ms-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
        background: #ed8106 linear-gradient(to bottom,rgba(255,255,255,0.2) 30%,rgba(255,255,255,0) 100%);
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#33ffffff',endColorstr='#00ffffff',GradientType=0 );
        
        padding: 5px 9px;
        border-radius: 4px;
        margin-top: 4px;
        
        box-shadow: inset 0 1px rgba(255, 255, 255, 0.4), inset 0 -1px rgba(0, 0, 0, 0.2)
    }
    #Sponsors3::before {
        color: inherit;
    }
    .navigationSideBar {
        > ul {
            background: transparent;
            border-color: #444;
            border-bottom-width: 1px;
            border: 0 none;
        }
        > ul > li.section > ul > li a {
            border-width: 1px;
            border-style: none none solid solid;
        }
        > ul > li.section > ul > li:last-child a {
            border-bottom-left-radius: 6px;
        }
        > ul > li.section:last-child > ul > li:last-child a {
            border-top-width: 1px;
            border-top-style: solid;
            border-left-width: 1px;
            border-left-style: solid;
            border-bottom-width: 1px;
            border-top-left-radius: 6px;
        }
        h4.heading {
            border-top-left-radius: 6px;
        }
        .subHeading {
            margin-left: 0;
            border-color: #444;
            border-style: solid;
            border-left-width: 1px;
            border-right-width: 1px;
            border-right-style: solid;
            border-top-left-radius: 6px;
        }
    }
    .subHeading {
        background-color: var(--inner-bg-dark);
        border-color: #555;
        color: #bbb;
    }
    .profilePage {
        .subHeading {
            border-radius: 6px 6px 0 0;
            border-width: 1px;
            border-style: solid;
        }
        .mast .section .primaryContent {
            border-color: #555;
            border-radius: 0 0 6px 6px;
            border-width: 0 1px 1px 1px;
            border-style: solid;
            table {
                border: 0 none;
            }
        }
        .mast .followBlocks .section.infoBlock {
            .secondaryContent {
                background: transparent;
            }
            border: 0 none;
            box-shadow: inset 0px 0px 0px 1px #555;
        }
    }
    .xenOverlay {
        .section {
            border: 1px solid #555;
            _border: 0 none;
            box-shadow: 0 0 10px rgba(0,0,0,1),  0 0 10px rgba(0,0,0,1);
        }
        .subHeading {
            background: var(--inner-bg-dark-d);
        }
        .secondaryContent {
            padding: 8px;
            background: var(--inner-bg-d);
            a {
            }
        }
        .primaryContent {
            background: var(--inner-bg-d);
        }
        .heading {
            background: var(--orange-dark) -moz-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) -webkit-gradient(linear,left top,left bottom,color-stop(0%,url(rgba.php?r=255&g=255&b=255&a=51)),color-stop(100%,rgba(255,255,255,0)));
            background: var(--orange-dark) -webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0.2)),color-stop(100%,rgba(255,255,255,0)));
            _filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#33FFFFFF,endColorstr=#33FFFFFF);
            background: var(--orange-dark) -webkit-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) -o-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) -ms-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            background: var(--orange-dark) linear-gradient(to bottom,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
            filter: brightness(@dim);
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#33ffffff',endColorstr='#00ffffff',GradientType=0 ) brightness(@dim);

            color: #fff;

            & when(@noorange = 1) {
                filter: none;
                background: var(--inner-bg-dark-d);
                border-bottom: 1px solid #333;
                padding-bottom: 9px;
            }
        }
    }
    .chooserOverlay .styleChooser {
        display: grid;
        grid-template-rows: auto auto;
        grid-template-columns: auto auto;
        border-color: #999 !important;
        background: linear-gradient(to bottom, var(--inner-bg-dark-d) 50%, darkred);
        h2.h1 {
            grid-column: 1 / -1;
            font-size: 0;
            color: transparent;
            &::after {
                content: "SpigotMC NewDark by Janmm14 selected as UserStyle";
                font-size: 14px;
                color: #fff;
            }
        }
        .subHeading {
            grid-column: 1 / 2;
            border: 0 none;
            font-size: 0;
            color: transparent;
            background: darkred;
            box-sizing: border-box;
            height: 60px;
            border-bottom-left-radius: 6px;
            &::after {
                content: "To change SpigotMC native styles, you need to donate to SpigotMC (otherwise just the one default style is listed here) and disable SpigotMC NewDark userstyle (check browser extensions).";
                font-size: 13px;
                color: #fff;
                display: flex;
                flex-direction: row;
                justify-content: center;
            }
        }
        .secondaryContent {
            display: none;
        }
        .primaryContent {
            display: none;
        }
        .sectionFooter {
            grid-column: 2 / 3;
            border-radius: 0 0 6px 0;
            box-sizing: border-box;
            height: 60px;
            background: darkred;
        }
    }
    .chooserColumns li a {
        border: 1px solid transparent;
        &:hover {
            background-color: #333;
            border: 1px solid #444;
        }
    }
    .sectionFooter {
        background: var(--inner-bg-dark-d);
        & when (@oled = 1) {
            border-top: 1px solid #555;
            margin-top: -1px;
        }
    }
    .discussionList, .articlesGrid {
        .sectionFooter {
            background-color: var(--inner-bg-dark);
        }
    }
    .DiscussionListOptions {
        margin: 0;
        padding: 8px;
        box-sizing: border-box;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        border-top: 1px solid #444 !important;
    }
    
    #jumpMenu .blockLinksList ul, #jumpMenu .nodeList li.d0 {
        border-color: #555;
    }
    .xenOverlay #jumpMenu .nodeList {
        border-color: #555;
    }

    #AccountMenu {
        & when (@popup_fix = 1) {
            transform: translateX(-1px);
        }
    }
    .navPopup {
        &#AlertsMenu {
            & when (@popup_fix = 1) {
                transform: translateX(1px);
            }
        }
        .listItem {
            border-color: #888;
        }
        .PopupItemLinkActive {
            color: #eee;
            &:hover {
                background-color: #444;
            }
        }
    }
    .alertsPopup a {
        color: #aaa;
    }
    .Menu .sectionFooter {
        background-color: rgba(10, 10, 10, .9);
    }
    .sectionFooter, .sectionFooter a {
        color: #bbb;
    }
    
    .sectionMain {
        background: initial;
        border-color: #444;
    }
    
    .button {
        background-color: #555;
        color: #d9d9d9;
    }
    .hasJs .bbCodeSpoilerText {
        background-color: #000;
        border-color: #666;
    }
    .message:not(.quickReply) .messageText {
        &:has(>.newIndicator) .bbCodeBlock:nth-child(2) {
            margin-top: 0;
        }
        &:not(:has(>.newIndicator)) .bbCodeBlock:first-child {
            margin-top: 0;
        }
    }
    .bbCodeBlock {
        background-color: var(--black-l);
        border-color: #666;
        margin-right: calc(@codeblockrightmargin - 1px);
        margin-top: 0.5em;
        margin-bottom: 0.5em;
    
        &.bbCodeCode .type {
            height: 18px;
            padding: 4px;
        }
        .type {
            background-color: var(--inner-bg-dark-l);
            color: #d3d3d3;
            border-color: #666;
        }
        .code {
            color: #eee;
            scrollbar-color: #333 #070707;
            > * {
                filter: invert(1);
            }
            > *::selection, > *::-webkit-selection, > *::-moz-selection {
                color: #000;
                background-color: #127ef9;
            }
            a span {
                filter: invert(1);
                &::selection, &::-webkit-selection, &::-moz-selection {
                    background-color: #127ef9;
                }
            }
            span[style="color: #003399;"] {
                color: hsl(220, 100%, 65%) !important;
            }
            background-attachment: local;
            background-color: #000b;
            --clr-1: rgba(255,255,255,.015);
            --clr-2: rgba(255,255,255,.1);
            background-image: -webkit-repeating-linear-gradient(top,var(--clr-1) 0px,var(--clr-1) 26px,var(--clr-2) 26px,var(--clr-2) 52px);
            background-image: -moz-repeating-linear-gradient(top,var(--clr-1) 0px,var(--clr-1) 26px,var(--clr-2) 26px,var(--clr-2) 52px);
            background-image: -ms-repeating-linear-gradient(top,var(--clr-1) 0px,var(--clr-1) 26px,var(--clr-2) 26px,var(--clr-2) 52px);
            background-image: -o-repeating-linear-gradient(top,var(--clr-1) 0px,var(--clr-1) 26px,var(--clr-2) 26px,var(--clr-2) 52px);
            background-image: repeating-linear-gradient(180deg,var(--clr-1) 0px,var(--clr-1) 26px,var(--clr-2) 26px,var(--clr-2) 52px);
        }
    }
    .BBcodeInlineCode {
        & when (@icode_dark = 1) {
            background-color: #000;
            border-color: #555;
            color: #eee;
        }
    }
    
    .alert-warning {
        background-color: hsl(50.4, 80.6%, 20%);
        border-color: hsl(40.4, 82.1%, 28%);
        color: hsl(38, 40.1%, 78.6%);
    }
    .alert-info {
        background-color: hsl(200, 65.2%, 20%);
        border-color: hsl(190.2, 65.4%, 25%);
        color: hsl(199.8, 49%, 90%);
    }
    .warningNotice {
        background-color: hsl(0, 79.8%, 40%) !important;
        border-color: hsl(5.6, 63.4%, 70%) !important;
    }
    span[style="color: #E8E8E8"] {
        color: #777 !important;
    }
    span[style="color: #404040"] {
        color: #999 !important;
    }
    span[style="color: #000000"] {
        color: inherit !important;
    }
    span[style="color: #660000"] {
        color: #a00 !important;
    }
    img[data-url="http://i.imgur.com/dKF4pZx.png"],
    img[data-url="http://i.imgur.com/sVTy6M0.png"],
    img[data-url="http://i.imgur.com/3F228wf.png"] {
        filter: invert(1);
    }
    img[src="//static.spigotmc.org/styles/spigot/xenforo/avatars/avatar_s.png"],
    img[src="//static.spigotmc.org/styles/spigot/xenforo/avatars/avatar_male_s.png"],
    img[src="//static.spigotmc.org/styles/spigot/xenforo/avatars/avatar_female_s.png"],
    img[src="//static.spigotmc.org/styles/spigot/xenforo/avatars/avatar_l.png"],
    img[src="//static.spigotmc.org/styles/spigot/xenforo/avatars/avatar_female_l.png"],
    img[src="//static.spigotmc.org/styles/spigot/xenforo/avatars/avatar_male_l.png"],
    span[style*="//static.spigotmc.org/styles/spigot/xenforo/avatars/avatar_s.png"],
    span[style*="//static.spigotmc.org/styles/spigot/xenforo/avatars/avatar_male_s.png"],
    span[style*="//static.spigotmc.org/styles/spigot/xenforo/avatars/avatar_female_s.png"] {
        background-color: rgba(0, 0, 0, .5);
        filter: invert(1);
        --box-shadow-color: rgba(0,0,0,.7) !important;
    }
    img[src="//static.spigotmc.org/styles/spigot/xenresource/resource_icon.png"] {
        filter: invert(75%);
    }
    .nodeList .node.level_1 {
        box-shadow: 0 0 3px rgba(255,255,255,.5);
        & when(@oled = 1) {
            box-shadow: none;
            border: 1px solid #303030;
            margin-bottom: 14px;
        }
    }
    .nodeList .categoryStrip {
        background-color: var(--inner-bg);
        color: inherit;
        box-shadow: inset 0 1px rgba(255,255,255,.25);
        text-shadow: 0 1px rgba(17, 17, 17, .5);
        & when(@oled = 1) {
            box-shadow: none;
            border-top-color: #333;
            border-top-width: 2px;
            padding-top: 6px;
            border-radius: 6px;
        }
        .nodeTitle {
            color: #eee;
            a {
                color: inherit;
            }
        }
        .nodeDescription {
            color: inherit;
        }
    }
    .nodeList .categoryForumNodeInfo, .nodeList .forumNodeInfo, .nodeList .pageNodeInfo, .nodeList .linkNodeInfo {
        background-color: var(--inner-bg-verydark);
        border-color: #444;
        & when(@oled = 1) {
            background-color: var(--oled-stripe-bg);
        }
    }
    .node.level_2 .nodeInfo {
        border-top-color: #444;
    }
    .nodeList .node.level_2:nth-child(2n) .nodeInfo, .nodeList .node.level_2:nth-child(2n) .nodeInfo .nodeLastPost {
        background-color: var(--inner-bg-dark);
        & when(@oled = 1) {
            background-color: #000;
        }
    }
    .categoryStrip + .nodeList .node.level_2:first-child .nodeInfo {
        border-top-right-radius: 0 !important;
        border-top-left-radius: 0 !important;
    }
    .node .forumNodeInfo .nodeIcon, .node .categoryForumNodeInfo .nodeIcon {
        background:#6d6d6d url(https://i.imgur.com/7E9f5Ik.png) no-repeat 0 0;
        background-color: #fff;
        filter: contrast(1.3) brightness(0.6);
    }
    .node .forumNodeInfo.unread .nodeIcon, .node .categoryForumNodeInfo.unread .nodeIcon {
        background: var(--orange) url(https://i.imgur.com/7E9f5Ik.png) no-repeat 0 0;
        filter: contrast(1.5) hue-rotate(-5deg);
    }
    .node .nodeLastPost {
        background-color: transparent;
    }
    .node .unread .nodeText .nodeTitle {
        color: #ccc;
    }
    
    .dataTable tr.dataRow th {
        background: #333;
        border-color: #666;
        color: #ccc;
    }
    .xenForm {
        max-width: 920px;
    }
    .xenForm fieldset, .xenForm .formGroup, .dataTable tr.dataRow td {
        border-color: #666;
    }
    .dataTable .dataRow {
        .ratings {
            line-height: 16px;
        }
        div.rating .Hint {
            line-height: 16px;
            position: relative;
            top: 1px;
            white-space: nowrap;
        }
        .dataOptions {
            a.secondaryContent {
                background: transparent;
                line-height: 16px;
                border-color: #666;
                box-sizing: border-box;
                height: 100%;
                &:hover {
                    background-color: var(--inner-bg-verydark);
                }
            }
        }
        .delete {
            border-color: #666;
            background: transparent;
            a {
                line-height: 16px;
                padding-top: 7px;
                padding-bottom: 6px;
                text-indent: initial;
                color: transparent;
                font-size: 0;
                &:hover {
                    background-color: var(--inner-bg-verydark);
                    background-size: 24px 24px;
                }
            }
        }
    }
    
    .messageList .message {
        background-color: var(--post-bg);
        border-color: #555;
    }
    .conversation_view .message:first-child, .conversation_view .quickReply {
        border-color: #555;
    }
    .bbCodeQuote .quoteContainer {
        background-color: var(--inner-bg-dark-l);
        .quoteExpand {
            background: -webkit-linear-gradient(top,rgba(4,4,4,0) 0%,rgb(4,4,4) 80%);
            background: -moz-linear-gradient(top,rgba(4,4,4,0) 0%,rgb(4,4,4) 80%);
            background: -o-linear-gradient(top,rgba(4,4,4,0) 0%,rgb(4,4,4) 80%);
            background: linear-gradient(to bottom,rgba(4,4,4,0) 0%,rgb(4,4,4) 80%);
        }
    }
    .message .dark_postrating.likesSummary, .dark_postrating {
        background-color: transparent;
        border-color: #444;
        color: #bbb;
        padding: 10px 8px 6px 8px;
    }
    .dark_postrating_outputlist li img {
        vertical-align: bottom;
    }
    
    .messageUserInfo {
        background-color: var(--black-l);
        border-color: #444;
    }
    .quickReply .messageUserInfo {
        margin: 8px 0 8px 8px;
    }
    .messageUserBlock div.avatarHolder {
        background-color: transparent;
    }
    .avatar .img, .avatarCropper {
        background-color: transparent;
    }
    .avatar img {
        background-color: rgba(255, 255, 255, .5);
    }
    .messageUserBlock h3.userText {
        border-color: #444;
        background-color: transparent;
    }
    .messageUserBlock a.username {
        color: #bbb;
        &:hover {
            color: #eee;
        }
    }
    .messageUserBlock .arrow {
        border-left-color: #666;
    }
    .messageUserBlock .arrow span {
        border-left-color: #000;
    }
    
    .dark_postrating_detail {
        background: #000;
    }
    .dark_postrating_column {
        border-color: #555;
    }
    
    :is(body, body.Touch) .xenOverlay .formOverlay {
        background-color: #111;
        border-color: #444;
        color: #d3d3d3;
    }
    :is(body, body.Touch) .xenOverlay .formOverlay .textCtrl {
        background-color: #000;
        border-color: #555;
        color: #d3d3d3;
    }
    
    #QuickReply {
        margin-left: 166px;
        .submitUnit {
            margin: 8px;
        }
    }
    .redactor_box {
        border-color: #444;
        margin-top: -1px;
        margin-right: -1px;
        border-top-right-radius: 6px;
    }
    .redactor_box .redactor_smilies .secondaryContent {
        border-color: #444;
    }
    .redactor_toolbar {
        background-color: var(--inner-bg);
        border-color: #444;
        border-top-right-radius: 6px;
    }
    .redactor_toolbar li.redactor_btn_group ul {
        background-color: #000;
        border-color: #666;
    }
    html .redactor_toolbar li a {
        color: #aaa;
        &:hover:not(:active):not(.redactor_act) {
            border-color: transparent;
            color: #fff;
        }
    }
    .redactor_dropdown {
        transform: translateY(-2px);
        background-color: #000;
        border-color: #666;
        box-shadow: 0 2px 5px #555;
        border-radius: 0px 3px 3px 3px;
        a {
            color: #aaa;
            border-radius: 3px;
            &:hover {
                color: #fff;
                background-color: #222;
            }
        }
    }
    .redactor_toolbar li a:active, .redactor_toolbar li a.redactor_act {
        background-color: transparent;
        border-bottom-color: transparent;
    }
    
    
    .forum_list .nodeList .nodeList, .forum_view .nodeList, .category_view .nodeList, .watch_forums .nodeList {
        background: #000;
        border-color: #666;
    }
    .discussionList .sectionHeaders {
        background-color: var(--inner-bg-l);
        border-color: #555;
        color: #ddd;
        a {
            color: #ddd;
        }
        dd a[href]:hover {
            background: #111;
            color: #ddd;
        }
    }
    .discussionListItem {
        background-color: #1a1a1a;
        border-color: #555;
        &:nth-child(2n) {
            background-color: var(--inner-bg-l);
        }
        & when (@oled = 1) {
            background-color: var(--oled-stripe-bg);
        }
    }
    .discussionList .discussionListItem.sticky {
        background: #1a1a1a;
        background: linear-gradient(0deg, #0a0a0a 0%, #1a1a1a 90%);
        border-color: #5a5a5a;
        font-style: normal;
    }
    .discussionListItem .stats dl {
        border-color: #888;
    }
    
    
    #DiscussionListOptionsHandle a {
        background-color: #111;
        border-color: #555;
        color: inherit;
    }
    .DiscussionListOptions {
        border-color: transparent;
    }
    
    .PrefixMenu .PrefixGroup {
        border-bottom: 0 none;
    }
    .PrefixMenu .PrefixOption .prefix.noPrefix {
        border: 1px solid #555;
        &:hover {
            border-color: #666;
        }
    }
    .PrefixMenu .PrefixOption a:hover {
        &.prefixPurple,
        &.prefixRed,
        &.prefixGreen,
        &.prefixBlue {
            color: #ccc;
            filter: brightness(1.2);
        }
    }
    .PrefixMenu .PrefixOption a.prefixPrimary {
        background-color: black;
        border-color: #444;
        &:hover {
            color: #ccc;
            border-color: #555;
        }
    }
    .prefix.prefixPrimary {
        color: #908e8e;
        background-color: black;
        border-color: #666;
        &:not(.PopupOpen):hover {
            color: #ccc;
            border-color: #888;
        }
    }
    
    input.textCtrl.disabled, textarea.textCtrl.disabled, .disabled .textCtrl {
        background-color: #444;
        color: #aaa;
    }
    
    .threadListItem {
        border-color: #555;
    }
    
    .textHeading, .xenForm .sectionHeader {
        border-bottom-color: #555;
        color: inherit;
    }
    
    .resourceListMain {
        background: linear-gradient(0deg, var(--inner-bg) 49.999999%, var(--inner-bg-dark) 50%);
        border-color: #555;
        
        .linkGroup.SelectionCountContainer {
            margin: 0 11px;
        }
    }
    
    .actionFilterRow {
        border-color: #555;
        margin-top: -8px;
        margin-bottom: 0;
    }
    .Popup .PopupControl:not(.PopupOpen):hover, .Popup.PopupContainerControl:not(.PopupOpen):hover {
        color: #fff;
        background-color: rgba(0,0,0,0.4);
    }
    .resourceListItem {
        background-color: var(--inner-bg);
        border-color: #555;
        &:first-child {
            border-top-width: 0px;
            margin-top: 0px;
        }
        & when (@oled = 1) {
            background-color: var(--oled-stripe-bg);
        }
        &:nth-child(2n) {
            background-color: var(--inner-bg-dark-l);
        }
    }
    #content.resource_author_view {
        .resourceListItem:first-child {
            border-top-width: 1px;
            border-top-style: solid;
            margin-top: 8px;
        }
    }
    .sectionMain .resourceList:first-child .resourceListItem:first-child {
        border-top-left-radius: 6px;
        border-top-right-radius: 6px;
    }
    .sectionMain .resourceList:last-child .resourceListItem:last-child {
        border-bottom-left-radius: 6px;
        border-bottom-right-radius: 6px;
        border-bottom: 0px none;
    }
    .resourceListItem .resourceImage, .resourceListItem .resourceStats {
        background-color: transparent;
    }
    .resourceListItem .resourceImage .resourceIcon img {
        background-color: transparent;
    }
    .resourceListItem .resourceImage .creatorMini img {
        --box-shadow-color: rgba(255,255,255,.7);
        box-shadow: 1px 1px 3px var(--box-shadow-color);
    }
    .resourceListSidebar .secondaryContent {
        background: var(--inner-bg-verydark);
        border: 0 none;
        padding: 7px;
        & when(@oled = 0) {
            box-shadow: 0 0 3px rgba(255,255,255,.5);
        }
        & when (@oled = 1) {
            border: 1px solid #555;
        }
    }
    .resourceListSidebar h3 {
        background: var(--orange-dark) -moz-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
        background: var(--orange-dark) -webkit-gradient(linear,left top,left bottom,color-stop(0%,url(rgba.php?r=255&g=255&b=255&a=51)),color-stop(100%,rgba(255,255,255,0)));
        background: var(--orange-dark) -webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0.2)),color-stop(100%,rgba(255,255,255,0)));
        _filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#33FFFFFF,endColorstr=#33FFFFFF);
        background: var(--orange-dark) -webkit-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
        background: var(--orange-dark) -o-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
        background: var(--orange-dark) -ms-linear-gradient(top,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
        background: var(--orange-dark) linear-gradient(to bottom,rgba(255,255,255,0.2) 0%,rgba(255,255,255,0) 100%);
        filter: brightness(@dim);
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#33ffffff',endColorstr='#00ffffff',GradientType=0 ) brightness(@dim);
        
        box-shadow: inset 0 1px rgba(255,255,255,.4),inset 0 -1px rgba(0,0,0,.2);
        
        & when(@noorange = 1) {
            box-shadow: none;
            filter: none;
            background: var(--inner-bg-dark);
            margin: -7px -7px 8px -7px;
            padding: 7px 7px 7px 7px;
            border-bottom: 1px solid #555;
        }
    }
    
    .innerContent .updates ol {
        border-color: #555;
    }
    .innerContent .customResourceFields.aboveInfo {
        border-color: #555;
    }
    .innerContent .rateBlock {
        background: var(--inner-bg);
        border-color: #555;
        display: flex;
        justify-content: center;
        padding-top: 13px;
        line-height: 20px;
    }
    .rating .star {
        line-height: 16px;
    }
    .innerContent .rateBlock .rating {
        margin-left: 5px;
    }
    .innerContent .rateBlock .Hint {
        margin-left: 5px;
        text-align: center;
    }
    
    .resourceListSidebar .avatarList .extraData, .resourceListSidebar .avatarList .extraData a {
        color: #7f7f7f;
        &:hover {
            color: #7f7f7f;
        }
    }

    .staffHeading {
        color: inherit;
        font-weight: bold;
    }
    
    .username .style20 {
        color: #86b3a7;
    }
    .username .style9 {
        color: rgb(144, 144, 144);
    }
    
    .profilePage .primaryUserBlock .lastActivity {
        border-top-color: #555;
    }
    .profilePage .tabs.mainTabs {
        background: transparent;
    }
    .profilePage .tabs.mainTabs li.active a {
        background-color: var(--inner-bg-d);
    }
    .profilePage .tabs.mainTabs li {
        a:not(.active):hover {
            background-color: #333;
        }
    }
    .profilePage .mainProfileColumn {
        border-color: #666;
    }
    .profilePage .mast .section.infoBlock {
        border-color: #666;
        padding: 0;
        .secondaryContent {
            padding: 8px 7px 7px 7px;
            h3 {
                & when (@noorange = 1) {
                    padding: 7px 6px;
                    margin: -7px -6px 8px -6px;
                }
                
            }
        }
    }
    .dark_postrating_member, .dark_postrating_member td {
        border-color: #666;
    }
    .profilePage .mast .sectionFooter {
        border-left: 0 none;
        border-right: 0 none;
        margin: 7px -6px -6px -6px;
        border-radius: 0 0 6px 6px;
        & when (@oled = 1) {
            background: var(--inner-bg-dark);
            border-top: 1px solid #444;
            margin-top: 6px;
        }
    }
    .secondaryContent a {
        color: #fff;
        
    }
    .secondaryContent h3.textWithCount a {
        & when (@noorange = 1) {
            color: #858585;
        }
    }
    .searchResult .snippet a {
        color: inherit;
    }
    .resourceUpdate .cost, .resourceListItem .main .cost {
        background-color: #000;
        border-color: #666;
        color: #bbb;
        padding-left: 2px;
    }
    .eventList li, html .searchResult {
        border-color: #444;
    }
    .searchResult {
        padding: 8px;
        .avatar {
            margin: 5px 0 0 0;
        }
        .main {
            padding: 0 0 0 1px;
        }
        .meta {
            margin-bottom: 0;
        }
        &:first-child {
            border-top-left-radius: 6px;
            border-top-right-radius: 6px;
        }
        background-color: var(--inner-bg-dark);
        & when (@oled = 1) {
            background-color: var(--oled-stripe-bg);
        }
        &:nth-child(2n) {
            background-color: var(--inner-bg);
        }
    }
    .search_results {
        .pageNavLinkGroup {
            margin: 0 3px;
        }
    }
    
    .attachedFiles {
        background: #333;
        border-color: #555;
        .attachedFilesHeader {
            background-color: #333;
            border-color: #555;
            color: #bbb;
        }
        .attachmentList {
            background: transparent;
            border-radius: 0;
        }
    }
    .attachment {
        .boxModelFixer {
            background-color: #222;
            border-color: #555;
        }
        .thumbnail {
            border-color: #777;
        }
    }
    .pairs dt, .pairsInline dt, .pairsRows dt, .pairsColumns dt, .pairsJustified dt {
        color: #bbb;
    }
    
    .AttachmentEditor .secondaryContent .label {
        color: #bbb;
    }
    .AttachmentEditor .AttachedFile .Thumbnail {
        background-color: transparent;
        border-color: #888;
    }
    
    .MultiQuoteItem {
        border-color: #666;
        .avatarHolder {
            border-color: #666;
        }
        .messageInfo {
            background: #222;
            border-color: #666;
        }
        table .messageCell {
            border-bottom-color: #666;
        }
        .messageGradient {
            background: -webkit-linear-gradient(top,rgba(34,34,34,0) 0%,rgba(34,34,34, 0.5) 80%);
            background: -moz-linear-gradient(top,rgba(34,34,34,0) 0%,rgba(34,34,34, 0.5) 80%);
            background: -o-linear-gradient(top,rgba(34,34,34,0) 0%,rgba(34,34,34, 0.5) 80%);
            background: linear-gradient(to bottom,rgba(34,34,34,0) 0%,rgba(34,34,34, 0.5) 80%);
        }
    }
    .xenOverlay .sortable-placeholder {
        background-color: #222;
    }

    .xenOverlay .formOverlay .textCtrl option {
        background-color: initial;
    }
    .xenPreviewTooltip {
        background-color: #000;
        border-color: #666;
        .arrow {
            transform: translateY(2px);
            border-top-color: transparent;
            span {
                border-top-color: #666;
            }
        }
    }
    .previewTooltip .posterDate {
        border-color: #444;
    }
    .discussionListItem .noteRow {
        background-color: #333;
        color: inherit;
    }
    .navPopup .menuHeader.primaryContent {
        background-color: rgba(30,30,30, 0.9);
        border-bottom-color: transparent;
    }
    .navPopup .listPlaceholder {
        background-color: rgba(38, 38, 38, 0.9);
    }
    .navPopup .listPlaceholder > .secondaryContent {
        background: transparent;
        &.noItems {
            padding: 8px;
        }
    }
    .navPopup .listPlaceholder ol.secondaryContent.Unread {
        background-color: hsl(194, 25%, 26%);
    }
    
    .messageList .newMessagesNotice {
        background: #444;
        border-color: #777;
    }
    body .imageCollection {
        background: #111;
        border-color: #444;
        padding: 10px;
    }
    body .imageCollection .textHeading {
        border-bottom-color: #444;
        padding: 5px;
    }
    
    /* spigotmc home news feed less margin */
    .sectionMain {
        & when (@nomargin = 1) {
            padding: 0;
        }
    }
    .sectionMain:not(.wikiPage) .subHeading {
        & when (@nomargin = 1) {
            border-color: #444;
            margin-top: 0;
            border-top: 0 none;
            border-radius: 6px 6px 0 0;
        }
    }
    .sectionFooter {
        & when (@nomargin = 1) {
            border-radius: 0 0 6px 6px;
        }
    }
    span[style*="color: rgb(0, 0, 0)"], span[style*="color: rgb(20, 20, 20)"] {
        color: inherit !important;
    }
    span[style*="color: rgb(51, 51, 51)"] {
        color: rgb(190, 190, 190) !important;
    }
    
    .wikiPage {
        .subHeading {
            margin: 0;
            border-bottom: 0 none;
        }
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start;
        .tabs li:last-child a, .tabs.noLinks li:last-child,
        .wikiPage .tabs.controlTabs li:first-child a, .wikiPage .tabs.controlTabs.noLinks li:first-child,
        .tabs li:first-child a, .tabs.noLinks li:first-child {
            border-radius: 0;
        }
        .tabs {
            border-bottom: 0 none;
            display: contents;
            li {
                float: none;
                display: inline-block;
                flex-grow: 1;
                a {
                    margin: 0;
                    border-top: 0 none;
                    border-right: 0 none;
                    border-bottom: 1px solid #555;
                    box-sizing: border-box;
                    width: 100%;
                    text-align: center;
                    padding-left: 12px;
                    padding-right: 12px;
                }
            }
            li.active a, &.noLinks li.active {
                & when(@oled = 1) {
                    background: #000 !important;
                    border-bottom-color: #000;
                }
            }
            &.mainTabs {
                margin-top: 8px;
                li {
                    order: -2;
                }
                li:first-child a, &.noLinks li:first-child {
                    border-radius: 6px 0 0 0;
                    border-left: 0 none;
                }
            }
            &.controlTabs {
                margin-bottom: -36px;
                
                float:right;
                margin-bottom: 0;

                /* control tabs rendered from right-to-left so have to swap rounded corners comapred to normal tabs */
                li:last-child {
                    order: -1;
                }
                li:first-child a, &.noLinks li:first-child {
                    border-top-right-radius: 6px;
                }
            }
        }
        .subHeading {
            border-top: 0 none;
        }
        .subHeading, #WikiPanes, #likes-wiki-1, .sectionFooter {
            box-sizing: border-box;
            width: 100%;
        }
        #history .primaryContent {
            padding-left: 0;
            padding-right: 0;
            overflow: auto;
        }
        .sectionFooter {
            background: var(--inner-bg-dark);
        }
    }
    .wikiEditors {
        .editorInfo {
            border-bottom: 0 none;
        }
        h3 {
            border: 0 none;
            padding-bottom: 0;
        }
        border: 0 none;
        .editor {
            border-bottom: 1px solid #555;
            &:nth-last-child(2) {
                border-bottom: 0;
            }
            .editorAcitivy .muted {
                line-height: 16.51px;
            }
        }
        .editorUser {
            a.avatar {
                display: block;
                line-height: 1;
            }
            img {
                margin-top: 3px;
            }
        }
        table:not(:has(tr)):not(:has(td)):not(:has(th)):not(:has(tbody)):not(:has(thead)) {
            display: none;
        }
    }
    :root kbd when(@oled = 1) {
        background-color: #b16005;
        border: 2px solid var(--orange-dark);
        border-width: 1px 2px 2px 1px;
        padding: 2px 2px 1px 3px;
        box-shadow: none;
    }
    :root kbd when(@oled = 0) {
        text-shadow: 0 0 3px rgba(0,0,0,0.75), 0 0 1px rgba(0,0,0,0.5);
    }
    @media (min-width: 611px) {
        .mainContainer .mainContent:has(>#wikiPage) when (@nomargin = 1) {
            padding: 0;
            border: 0;
            .titleBar {
                display: none;
            }
            #wikiPage {
                margin-top: 0;
                .subHeading {
                    padding-top: 16px;
                    padding-left: 18px;
                    font-size: 18pt;
                    color: #d3d3d3;
                    div {
                        margin-top: -6px;
                        font-size: 12px;
                        color: #bbb;
                    }
                }
            }
        }
    }
    
    ul.autoCompleteList {
        background-color: #1a1a1a;
        border-color: #777;

        li:hover, li.selected {
            background: #333;
        }
    }
    
    .pollBlock {
        .questionMark {
            background: #000;
            color: inherit;
        }
        .question .questionText {
            color: inherit;
        }
        .pollOptions, .pollResults {
            border-color: #444;
        }
        .pollOption label:hover {
            background: #444;
        }
    }
    
    .thread_view .threadAlerts {
        background-color: var(--post-bg);
        border-color: #555;
        
        dt {
            color: #cacaca;
        }
        dd {
            color: inherit;
        }
    }

    /* SpigotSearchEngine */
	#divSortBox > * {
		border: 1px solid #555;
	}
	.SortByBoxButtonLinkStyle:hover {
		color: #555 !important;
	}
    
    body when (@bg_bubbles = 1) and (@bg_dbg = 1) {
        background: rgba(239, 182, 28, .5);
        & when (@bg_bubbles_dark = 1) {
            background: rgba(237, 129, 6, .5);
        }
    }
    & when (@bg_bubbles = 1) and (@bg_dbg = 0) {
        @keyframes rise {
            0% {
                bottom: -300px;
                transform: translateX(0);
            }
            50% {
                transform: translate(100px);
            }
            100% {
                bottom: calc(100vh + 300px);
                transform: translateX(-200px);
            }
        }
        @keyframes rise2 {
            0% {
                bottom: -300px;
                transform: translateX(0);
            }
            25% {
                transform: translate(-100px);
            }
            49.98% {
                bottom: calc(100vh + 300px);
                transform: translateX(200px);
            }
            49.99% {
                bottom: calc(100vh + 300px);
                transform: translateY(calc(0 - 100% - 200px));
            }
            50% {
                bottom: -300px;
                transform: translateY(calc(0 - 100% - 200px));
            }
            50.01% {
                bottom: -300px;
                transform: translateX(0);
            }
            75% {
                transform: translate(100px);
            }
            100% {
                bottom: calc(100vh + 300px);
                transform: translateX(-200px);
            }
        }
        #uix_wrapper {
            &, > .uix_wrapperFix, > #headerMover > , > #headerMover > header,
            > #headerMover > #content
            {
                &::before, &::after {
                    position: fixed;
                    display: block;
                    content: '';
                    bottom: -300px;
                    --size: 40px;
                    --dur: 10s;
                    --delay: 0s;
                    width: var(--size);
                    height: var(--size);
                    background: var(--orange);
                    & when (@bg_bubbles_dark = 1) {
                        background: var(--orange-dark);
                    }
                    border-radius: 50%;
                    opacity: .5;
                    z-index: -10;
                    animation: rise var(--dur) infinite ease-in;
                }
                &::after {
                    animation-name: rise2;
                    animation-duration: calc(2 * var(--dur));
                }
            }
            &::before {
                left: 10%;
                --dur: 8s;
            }
            &::after {
                --size: 20px;
                left: 20%;
                --dur: 10.5s;
                animation-delay: 1s;
            }
            > .uix_wrapperFix::before {
                --size: 150px;
                left: 35%;
                --dur: 8s;
                animation-delay: 2s;
            }
            > .uix_wrapperFix::after {
                --size: 180px;
                left: 50%;
                --dur: 11s;
                animation-delay: 0s;
            }
            > #headerMover::before {
                --size: 35px;
                left: 55%;
                --dur: 8.5s;
                animation-delay: 1s;
            }
            > #headerMover::after {
                --size: 145px;
                left: 65%;
                --dur: 9s;
                animation-delay: 3s;
            }
            > #headerMover > header::before {
                --size: 190px;
                left: 70%;
                --dur: 12s;
                animation-delay: 2s;
            }
            > #headerMover > header::after {
                --size: 25px;
                left: 80%;
                --dur: 9.5s;
                animation-delay: 2s;
            }
            > #headerMover > #content::before {
                --size: 15px;
                left: 70%;
                --dur: 7s;
                animation-delay: 1s;
            }
            > #headerMover > #content::after {
                --size: 190px;
                left: 20%;
                --dur: 10s;
                animation-delay: 6s;
            }
        }
    }
    
    @media(max-width: 800px) {
        #logoBlock .pageContent #logo {
            & when (@black_header = 1)  {
                position: initial;
                top: initial;
            }
        }
        #content.thread_view:has(.mainContent > .resourceInfo) {
            .pageNavLinkGroup, li.message {
                margin-left: 8px;
                margin-right: 8px;
            }
        }
        & when (@oled = 0) {
            .Responsive .resourceListBlock {
                margin: 0 -16px;
                width: calc(100% + 2 * 16px);
                .resourceListSidebar {
                    display: block;
                    width: calc(100% - 2* 16px;);
                    margin: 10px 16px 0 16px;
                    >:last-child {
                        margin-bottom: 2px;
                    }
                }
            }
        }
        & when (@oled = 1) {
            .Responsive .resourceListBlock {
                margin: 0 -16px;
                width: calc(100% + 2 * 16px);
            }
            .Responsive .resourceListBlock {
                .resourceList {
                    border-bottom-left-radius: 6px;
                    border-bottom-right-radius: 6px;
                    .resourceListItem:last-child {
                        border-bottom-left-radius: 6px;
                        border-bottom-right-radius: 6px;
                        border-left: 1px solid #555;
                        border-right: 1px solid #555;
                        position: relative;
                        left: -1px;
                    }
                }
                .section {
                    margin-bottom: 0;
                }
                .pageNavLinkGroup:has(>.PageNav) {
                    background: var(--inner-bg);
                    margin: 0 -1px;
                    padding: 8px 15px;
                    padding-bottom: 10px;
                }
                .resourceListSidebar {
                    display: block;
                    width: calc(100% + 2 * 1px);
                    background: var(--inner-bg);
                    margin: 0 -1px;
                    > :last-child {
                        margin-bottom: 0;
                        margin-bottom: -1px;
                    }
                }
            }
            .resource_index, .resource_category {
                .mainContainer_noSidebar {
                    padding-bottom: 0;
                    &::after {
                        content: none;
                        display: none;
                    }
                }
            }
        }
    }
    @media(max-width: 610px) {
        .Responsive .resourceListBlock {
            margin: 0 -8px;
            width: calc(100% + 2 * 8px);
        }
        .resource_author_view .mainContent > .section .resourceList,
        .resource_author_view .mainContent > .section :not(:has(.pageNavLinkGroup > .PageNav)) .resourceList {
            margin-left: -8px;
            margin-right: -8px;
        }
        .message .privateControls {
            float: left;
            text-align: match-parent;
        }
        .message .publicControls {
            float: right;
            text-align: match-parent;
        }
        .hasFlexbox .message .messageUserInfo {
            margin: -9px -9px 5px -9px;
            border-color: #555;
            border-radius: 6px 6px 0 0;
        }
        .messageList .message .messageContent {
            padding: 0;
        }
        .message .messageMeta {
            padding-top: 0;
            padding-bottom: 0;
            .control {
                margin-bottom: 0;
            }
            .privateControls .control:first-child {
                padding-left: 3px;
            }
            .publicControls .control:last-child {
                padding-right: 1px;
            }
            :not(:has(.privateControls)) {
                .publicControls .control:first-child {
                    padding-left: 3px;
                }
            }
            margin-bottom: -4px !important;
        }
    }
    @media(max-width: 480px) {
        .resourceListSidebar {
            > .secondaryContent {
                padding: 7px 14px;
            }
        }
        .resource_author_view .mainContent > .section .resourceList,
        .resource_author_view .mainContent > .section :not(:has(.pageNavLinkGroup > .PageNav)) .resourceList {
            margin-left: 0px;
            margin-right: 0px;
        }
        .Responsive .resourceListBlock {
            margin: 0 -1px;
            width: calc(100% + 2 * 1px);
        }
        .titleBar {
            display: inline-block;
            margin-left: 8px;
            margin-bottom: 0;
        }
        .Responsive .pageNavLinkGroup .linkGroup {
            margin-top: 0;
        }
        .hasRightSidebar #content.EWRporta2_ArticleList {
            .mainContainer .mainContent {
                padding: 0 0 0 7px;
                margin-right: -1px !important;
            }
        }
    }
    .message .signature {
        border-color: #666;
    }
    
    .message .dark_postrating .dark_postrating_outputlist li:has(strong) when (@rating_no_text = 1) {
        font-size: 0;
        strong {
            font-size: 12px;
            &::before {
                margin-left: 3px;
                content: "x ";
                font-weight: normal;
            }
        }
    }
    
    
    @media (min-width: 611px) {
        :root when (@msg_signature = 1) {
            .message:not(.quickReply) {
                display: grid;
                max-width: 100%;
                grid-template-rows: 100%;
                grid-template-columns: 100%;
                > .uix_message {
                    grid-row: 1;
                    grid-column: 1;
                }
                .messageInfo {
                    box-sizing: border-box;
                    min-height: 100%;
                    max-width: 100%;
                    display: grid;
                    padding: 1px 0 0 8px;
                    grid-template-rows: 1fr auto auto auto auto auto;
                    grid-template-columns: repeat( 2, minmax(min-content, 1fr));
                    _grid-template-columns: 50% 50%;
                    .messageContent {
                        padding: 0 0 8px 0;
                        .bbCodeBlock {
                            margin-right: calc(@codeblockrightmargin - 1px);
                        }
                    }
                }
                @media (min-width: 950px) {
                    .messageInfo {
                        _grid-template-columns: minmax(10px, max-content);
                    }
                }
                .messageContent {
                    min-height: unset;
                    grid-row: 1;
                    grid-column: 1 / 3;
                }
                .signature {
                    grid-row: 2;
                    grid-column: 1 / 3;
                    border: 0 none;
                    background: var(--inner-bg-l);
                    padding: 8px 5px 8px 7px;
                    margin-bottom: 0;
                    border-radius: 6px 6px 0 0;
                }
                .messageDetails {
                    grid-row: 4;
                    grid-column: 1 / 3;
                    background: var(--inner-bg-l);
                    padding: 10px 8px 9px 7px;
                    border-radius: 6px;
                    .item:not(.postNumber):has(>.authorEnd) {
                        margin-left: 0;
                    }
                }
                &[data-author^=J] .messageDetails {
                    padding-left: 9px;
                }
                .messageMeta {
                    min-width: fit-content;
                    grid-row: 4;
                    grid-column: 2;
                    .control {
                        margin-bottom: 0;
                    }
                    border-top: 1px dashed #666;
                    background: var(--inner-bg-l);
                    padding-top: 5px;
                    padding-bottom: 5px;
                    border-radius: 0 0 6px 0;
                }
                &:not(:has(.signature)) &:not(:has(.dark_postrating)) .messageMeta {
                    border-radius: 0 6px 6px 0;
                }
                .dark_postrating.likesSummary, .dark_postrating {
                    box-sizing: border-box;
                    grid-row: 4;
                    grid-column: 1;
                    background: var(--inner-bg-l);
                    border: 0 none;
                    border-right: 1px dashed #666;
                    border-radius: 6px 0 0px 6px;
                    margin-top: 0;
                    padding: 0 8px;
                    > * {
                        margin-top: 8px;
                        margin-bottom: 5px;
                    }
                    .dark_postrating_inputlist_undo {
                        margin-top: 2px;
                    }
                }
                &:has(.dark_postrating) {
                    .messageDetails {
                        grid-column: 2;
                        border-radius: 6px 6px 0 0;
                    }
                    .messageMeta {
                        border-radius: 0 0 6px 0;
                    }
                }
                &:has(.messageMeta) {
                    .messageDetails {
                        grid-column: 1;
                        border-top: 1px dashed #666;
                        border-right: 1px dashed #666;
                        border-radius: 0 0 0 6px;
                    }
                    .dark_postrating {
                        grid-column: 1 / 3;
                        grid-row: 3;
                        border-radius: 6px 6px 0 0;
                        border: 0 none;
                    }
                    &:has(.dark_postrating) {
                        .messageDetails {
                        }
                    }
                }
                &:has(.signature) {
                    .dark_postrating.likesSummary, .dark_postrating {
                        border-radius: 0;
                        border-top: 1px dashed #666;
                    }
                }
                .dark_postrating_container {
                    height: 18px;
                }
                .dark_postrating_container:after {
                    content: '.';
                    display: block;
                    height: 0;
                    clear: both;
                    visibility: hidden;
                }
                .dark_postrating_outputlist {
                    margin-top: 1px;
                    margin-bottom: 1px;
                    li {
                        white-space: nowrap;
                    }
                }
                & when (@oled = 1) {
                    .signature {
                        border: 1px dashed #666;
                        border-bottom: 0;
                    }
                    .messageDetails {
                        border: 1px dashed #666;
                        border-radius: 6px;
                    }
                    .messageMeta {
                        border: 1px dashed #666;
                        border-left: 0 none;
                    }
                    .dark_postrating.likesSummary, .dark_postrating {
                        border: 1px dashed #666;
                    }
                    &:has(.messageMeta) {
                        .dark_postrating.likesSummary, .dark_postrating {
                            border: 1px dashed #666;
                            border-bottom: 0;
                        }
                    }
                    &:has(.dark_postrating) {
                        .messageDetails {
                            border-left: 0 none;
                            border-radius: 6px;
                        }
                        &:has(.messageMeta) {
                            .messageDetails {
                                border: 1px dashed #666;
                                border-radius: 0 0 0 6px;
                            }
                        }
                    }
                }
            }
            @media (min-width: 1200px) {
                & when (@rating_no_text = 0) {
                    .message:has(.dark_postrating):has(.messageMeta):has(.dark_postrating_outputlist > li:nth-child(5)),
                    .message:has(.dark_postrating):has(.messageMeta):has(.dark_postrating_outputlist > li:nth-child(3)):has(.messageDetails .editDate) {
                        .messageInfo {
                            grid-template-columns: 50% 50%;
                        }
                    }
                }
                .message:has(.dark_postrating):has(.messageMeta):not(:has(.dark_postrating_outputlist > li:nth-child(5))):not(:has(.dark_postrating_outputlist > li:nth-child(3)):has(.messageDetails .editDate)) {
                    /* edit warning - section required duplicate below */
                    .messageContent, .signature, .dark_postrating {
                        grid-column-end: 4;
                    }
                    .messageInfo {
                        grid-template-columns: 1fr minmax(min-content, 400px) minmax(270px, max-content);
                    }
                    &:has(.signature) .messageDetails, .messageDetails {
                        grid-row: 4;
                        grid-column: 2;
                        border-radius: 0;
                        border-top: 0 none;
                        .postNumber {
                            margin-left: 25px;
                        }
                    }
                    .dark_postrating.likesSummary, .dark_postrating {
                        grid-row: 4;
                        grid-column: 1;
                        border-radius: 6px 0 0 6px;
                        border-top: 0 none;
                        border-left: 0 none;
                        border-bottom: 0 none;
                        border-right: 1px dashed #666;
                    }
                    .messageMeta, &:has(.dark_postrating) .messageMeta {
                        grid-column: 3;
                        border-top: 0 none;
                        border-radius: 0 6px 6px 0;
                    }
                    &:has(.signature) {
                        .dark_postrating.likesSummary, .dark_postrating {
                            border-top: 1px dashed #666;
                            border-radius: 0 0 0 6px;
                        }
                        .messageDetails {
                            border-top: 1px dashed #666;
                        }
                        .messageMeta {
                            border-top: 1px dashed #666;
                            border-radius: 0 0 6px 0;
                        }
                    }
                    & when (@oled = 1) {
                        .dark_postrating.likesSummary, .dark_postrating {
                            border: 1px dashed #666;
                        }
                        .messageDetails {
                            border-top: 1px dashed #666;
                            border-left: 0 none;
                            border-bottom: 1px dashed #666;
                        }
                        .messageInfo .messageMeta {
                            border-top: 1px dashed #666;
                        }
                    }
                }
                .message:has(.dark_postrating):has(.messageMeta) when (@rating_no_text = 1) {
                    /* edit warning - section required duplicate above */
                    .messageContent, .signature, .dark_postrating {
                        grid-column-end: 4;
                    }
                    .messageInfo {
                        grid-template-columns: 1fr minmax(min-content, 400px) minmax(270px, max-content);
                    }
                    &:has(.signature) .messageDetails, .messageDetails {
                        grid-row: 4;
                        grid-column: 2;
                        border-radius: 0;
                        border-top: 0 none;
                        .postNumber {
                            margin-left: 25px;
                        }
                    }
                    .dark_postrating.likesSummary, .dark_postrating {
                        grid-row: 4;
                        grid-column: 1;
                        border-radius: 6px 0 0 6px;
                        border-top: 0 none;
                        border-left: 0 none;
                        border-bottom: 0 none;
                        border-right: 1px dashed #666;
                    }
                    .messageMeta, &:has(.dark_postrating) .messageMeta {
                        grid-column: 3;
                        border-top: 0 none;
                        border-radius: 0 6px 6px 0;
                    }
                    &:has(.signature) {
                        .dark_postrating.likesSummary, .dark_postrating {
                            border-top: 1px dashed #666;
                            border-radius: 0 0 0 6px;
                        }
                        .messageDetails {
                            border-top: 1px dashed #666;
                        }
                        .messageMeta {
                            border-top: 1px dashed #666;
                            border-radius: 0 0 6px 0;
                        }
                    }
                    & when (@oled = 1) {
                        .dark_postrating.likesSummary, .dark_postrating {
                            border-top: 1px dashed #666;
                        }
                        .messageDetails {
                            border-top: 1px dashed #666;
                            border-left: 0 none;
                            border-bottom: 1px dashed #666;
                        }
                        .messageInfo .messageMeta {
                            border-top: 1px dashed #666;
                        }
                    }
                }
            }
            @media (any-hover: hover) and (max-width: 1199px) {
                .message:has(.dark_postrating_inputlist) when (@hover_rating = 1) {
                    .messageMeta, .messageDetails {
                        z-index: 1;
                    }
                    &:not(:has(.dark_postrating_container > .dark_postrating_outputlist > li)):not(:has(.signature)) {
                        .messageDetails {
                            border-top: 0;
                            & when (@oled = 1) {
                                border-top: 1px dashed #666;
                            }
                            border-top-left-radius: 6px;
                            transition: 0s 0.12s border-top ease-in-out allow-discrete;
                        }
                        .messageMeta {
                            border-top: 0;
                            & when (@oled = 1) {
                                border-top: 1px dashed #666;
                            }
                            border-top-right-radius: 6px;
                            transition: 0s 0.12s border-top ease-in-out allow-discrete;
                        }
                    }
                    .dark_postrating_inputlist {
                        opacity: 1 !important;
                    }
                    .dark_postrating.likesSummary, .dark_postrating {
                        &:not(:has(> .dark_postrating_container > .dark_postrating_outputlist > li)) {
                            box-sizing: border-box;
                            border-top: 0px dashed #666;
                            border-top-width: 0px;
                            & when (@oled = 1) {
                                border-top: 1px dashed #666;
                            }
                            --dur: 0.15s;
                            transition: var(--dur) margin-bottom ease-in-out, var(--dur) max-height ease-in-out, var(--dur) visibility ease-in-out allow-discrete, var(--dur) opacity ease-in-out;
                            margin-bottom: -40px;
                            max-height: 0px;
                            visibility: hidden;
                            opacity: 0;
                        }
                    }
                    &:has(.signature) {
                        .dark_postrating.likesSummary, .dark_postrating {
                            &:not(:has(> .dark_postrating_container > .dark_postrating_outputlist > li)) {
                                border-top-width: 1px;
                                _margin-bottom: calc(-100% - 1px);
                            }
                        }
                    }
                    &:hover {
                        .dark_postrating.likesSummary, .dark_postrating {
                            &:not(:has(> .dark_postrating_container > .dark_postrating_outputlist > li)) {
                                visibility: visible;
                                opacity: 1;
                                margin-bottom: 0;
                                _transition: var(--dur) margin-bottom ease-in-out;
                                max-height: 50px;
                            }
                        }
                        &:not(:has(.dark_postrating_container > .dark_postrating_outputlist > li)):not(:has(.signature)) {
                            .messageDetails {
                                border-top: 1px dashed #666;
                                border-top-left-radius: 0px;
                                transition: 0s 0s border-top ease-in-out allow-discrete;
                            }
                            .messageMeta {
                                border-top: 1px dashed #666;
                                border-top-right-radius: 0px;
                                transition: 0s 0s border-top ease-in-out allow-discrete;
                            }
                        }
                    }
                }
            }
        }
    }
}
